<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="巳泷资源库 - 提供各类优质网络资源导航">
    <title>巳泷资源库</title>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
        /* 优化后的CSS */
        :root {
            --primary-color: #8e44ad;
            --secondary-color: #9b59b6;
            --accent-color: #b393d3;
            --text-color: #ffffff;
            --card-bg: rgba(40, 40, 60, 0.7);
            --card-hover: rgba(142, 68, 173, 0.3);
            --transition-speed: 0.3s;
            --header-height: 60px;
            --sidebar-width: 130px;
            /* 更新默认背景图URL */
            --bg-image-portrait: url('https://silong-baoku.github.io/zyk/bjt1.jpg');
            --bg-image-landscape: url('https://silong-baoku.github.io/zyk/bjt2.jpg');
            --text-size: 1rem;
            --text-font: 'Segoe UI', system-ui, -apple-system, sans-serif;
            --btn-radius: 25px;
            --module-opacity: 0.7;
            --module-border: solid;
        }

        /* 加载动画样式 */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(30, 30, 50, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
            opacity: 0;
            pointer-events: none;
        }

        .loader-container.active {
            opacity: 1;
            pointer-events: auto;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(142, 68, 173, 0.3);
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        .loader-text {
            color: var(--accent-color);
            font-size: 1rem;
            margin-top: 10px;
        }
 
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
 
        body {
            font-family: var(--text-font);
            background: var(--bg-image-landscape) no-repeat center center fixed;
            background-size: cover;
            color: var(--text-color);
            line-height: 1.5;
            min-height: 100vh;
            overflow-x: hidden;
            transition: all var(--transition-speed) ease;
            font-size: var(--text-size);
            filter: hue-rotate(var(--hue-rotate, 0deg));
            opacity: var(--global-opacity, 1);
        }
        
        @media (orientation: portrait) {
            body {
                background-image: var(--bg-image-portrait);
            }
        }
 
        /* 主容器优化 */
        .app-container {
            display: grid;
            grid-template-areas:
                "header header"
                "sidebar main"
                "footer footer";
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr auto;
            min-height: 100vh;
            backdrop-filter: blur(var(--blur, 0px));
        }
 
        /* 顶部导航栏优化 */
        .top-nav {
            grid-area: header;
            display: flex;
            align-items: center;
            padding: 0 20px;
            background: rgba(40, 40, 60, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 100;
            position: sticky;
            top: 0;
            gap: 20px;
        }
 
        .logo {
            font-size: 1.125rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
 
        /* 菜单按钮样式 */
        .menu-btn {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 30px;
            height: 30px;
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .menu-btn span {
            display: block;
            width: 20px;
            height: 2px;
            background: var(--text-color);
            margin: 2px 0;
            transition: all var(--transition-speed);
        }

        .menu-btn:hover span {
            background: var(--accent-color);
        }

        /* 菜单下拉样式 */
        .menu-dropdown {
            position: absolute;
            top: 100%;
            left: 20px;
            background: rgba(40, 40, 60, 0.95);
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            min-width: 200px;
            z-index: 1000;
            display: none;
            padding: 10px 0;
        }

        .menu-dropdown a {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.875rem;
            gap: 8px;
        }

        .menu-dropdown a:hover {
            background: rgba(255,255,255,0.1);
        }

        .menu-dropdown .divider {
            height: 1px;
            background: rgba(255,255,255,0.1);
            margin: 5px 0;
        }

        .menu-container {
            position: relative;
        }

        .menu-container:hover .menu-dropdown {
            display: block;
        }
 
        /* 侧边栏优化 */
        .sidebar {
            grid-area: sidebar;
            background: rgba(30, 30, 50, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 10px;
            position: sticky;
            top: var(--header-height);
            height: calc(100vh - var(--header-height));
            overflow-y: auto;
            transition: transform 0.3s ease;
        }
 
        .sidebar-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
 
        .sidebar-menu {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
 
        .sidebar-menu a {
            color: var(--text-color);
            text-decoration: none;
            padding: 8px 10px;
            border-radius: 4px;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all var(--transition-speed);
        }
 
        .sidebar-menu a:hover {
            background: var(--card-hover);
        }
 
        /* 主内容区优化 */
        .main-content {
            grid-area: main;
            padding: 15px;
            overflow-y: auto;
            height: calc(100vh - var(--header-height));
        }
 
        /* 搜索框优化 */
        .search-container {
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            backdrop-filter: blur(5px);
        }
 
        .search-box {
            display: flex;
            gap: 10px;
        }
 
        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.15);
            color: var(--text-color);
            font-size: 0.9375rem;
        }
 
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
 
        .search-btn {
            padding: 0 20px;
            border: none;
            border-radius: var(--btn-radius);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 600;
            cursor: pointer;
            min-width: 80px;
            transition: all var(--transition-speed);
        }
 
        .search-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
 
        /* 分类区域优化 */
        .category-section {
            margin-bottom: 30px;
            scroll-margin-top: 80px;
        }
 
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
 
        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--accent-color);
            margin-right: 15px;
        }
 
        /* 资源网格优化 */
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 12px;
        }
 
        /* 分类模块优化 */
        .category-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            backdrop-filter: blur(5px);
            border: 1px var(--module-border) rgba(255, 255, 255, 0.1);
            transition: all var(--transition-speed);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
            opacity: var(--module-opacity);
        }
 
        .category-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
 
        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
 
        .category-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 0.875rem;
        }
 
        .category-title {
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--accent-color);
        }
 
        /* 网站条目优化 */
        .website-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
        }
 
        .website-item {
            display: block;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            padding: 8px;
            transition: all var(--transition-speed);
            text-decoration: none;
            color: var(--text-color);
            cursor: pointer;
        }
 
        .website-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
 
        .website-img {
            width: 100%;
            height: 70px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 6px;
            background-color: rgba(255,255,255,0.1);
        }
 
        .website-name {
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
 
        .website-desc {
            font-size: 0.625rem;
            color: rgba(255, 255, 255, 0.7);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
 
        /* 底部优化 */
        .footer {
            grid-area: footer;
            background: rgba(30, 30, 50, 0.9);
            padding: 15px;
            text-align: center;
            font-size: 0.8125rem;
            color: rgba(255, 255, 255, 0.7);
        }
 
        /* 自定义滚动条优化 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
 
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
 
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }
 
        /* 模态框样式优化 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            animation: fadeIn 0.3s;
        }
 
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
 
        .modal-content {
            background-color: rgba(40, 40, 60, 0.95);
            margin: 10% auto;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            animation: slideIn 0.3s;
        }
 
        @keyframes slideIn {
            from {transform: translateY(-20px); opacity: 0;}
            to {transform: translateY(0); opacity: 1;}
        }
 
        .modal-content h2 {
            color: var(--accent-color);
            margin-bottom: 20px;
            text-align: center;
        }
 
        .modal-content label {
            display: block;
            margin: 15px 0 5px;
            color: var(--text-color);
            font-size: 0.875rem;
        }
 
        .modal-content input[type="text"],
        .modal-content input[type="url"],
        .modal-content select,
        .modal-content textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: white;
        }
 
        .modal-content input[type="range"] {
            width: 100%;
            margin-bottom: 10px;
            accent-color: var(--primary-color);
        }
 
        .close {
            color: #aaa;
            float: right;
            font-size: 1.75rem;
            font-weight: bold;
            transition: all var(--transition-speed);
            line-height: 1;
        }
 
        .close:hover,
        .close:focus {
            color: var(--accent-color);
            text-decoration: none;
            cursor: pointer;
        }
 
        .color-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
 
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all var(--transition-speed);
        }
 
        .color-option:hover {
            transform: scale(1.1);
            border-color: white;
        }
 
        .btn {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all var(--transition-speed);
        }
 
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
 
        .btn-secondary {
            background: rgba(255,255,255,0.1);
        }

        /* 高级颜色选择器 */
        .advanced-color-controls {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .color-slider {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .color-slider label {
            min-width: 80px;
            margin-right: 10px;
        }

        .color-slider input[type="range"] {
            flex: 1;
        }

        .color-slider span {
            min-width: 40px;
            text-align: right;
            margin-left: 10px;
        }

        /* 颜色预览 */
        .color-preview {
            width: 100%;
            height: 50px;
            border-radius: 5px;
            margin: 10px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* 文件上传样式 */
        .file-upload {
            position: relative;
            margin-bottom: 10px;
        }

        .file-upload input[type="file"] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-upload-label {
            display: block;
            padding: 10px;
            border: 1px dashed rgba(255,255,255,0.3);
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .file-upload-label:hover {
            border-color: var(--primary-color);
            background: rgba(142, 68, 173, 0.1);
        }

        .file-upload-label i {
            display: block;
            font-size: 2rem;
            margin-bottom: 5px;
            color: var(--accent-color);
        }

        .image-preview {
            max-width: 100%;
            max-height: 150px;
            margin-top: 10px;
            display: none;
            border-radius: 4px;
        }

        /* 自定义元素选择器 */
        .element-selector {
            margin-bottom: 15px;
        }

        .element-selector select {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            background: rgba(0,0,0,0.3);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* 收藏按钮样式 */
        .favorite-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.5);
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            z-index: 1;
        }

        .favorite-btn:hover {
            color: gold;
        }

        .favorite-btn.favorited {
            color: gold;
        }

        /* 高亮样式 */
        .highlight {
            animation: highlight 2s ease;
        }

        @keyframes highlight {
            0% { background-color: rgba(142, 68, 173, 0.5); }
            100% { background-color: transparent; }
        }

        /* 管理卡片样式 */
        .manage-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .manage-card-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .manage-card-title .lock-icon {
            color: var(--primary-color);
            margin-left: 8px;
            font-size: 0.9rem;
        }

        .manage-card-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .manage-card-btn {
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .manage-card-btn.edit {
            background: var(--primary-color);
            color: white;
            border: none;
        }

        .manage-card-btn.delete {
            background: rgba(255, 99, 71, 0.7);
            color: white;
            border: none;
        }
        
        /* 初始模块样式 */
        .default-item {
            opacity: 0.7;
        }
        
        .default-item .manage-card-btn {
            opacity: 0.5;
            pointer-events: none;
        }

        /* 响应式设计优化 */
        @media (max-width: 768px) {
            .app-container {
                grid-template-areas:
                    "header"
                    "main"
                    "footer";
                grid-template-columns: 1fr;
            }
 
            .sidebar {
                position: fixed;
                top: var(--header-height);
                left: 0;
                width: var(--sidebar-width);
                height: calc(100vh - var(--header-height));
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                z-index: 90;
            }

            .sidebar.active {
                transform: translateX(0);
            }
 
            .resource-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
 
            .website-list {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
 
            .modal-content {
                width: 95%;
                margin: 20% auto;
            }
        }

        /* 横屏样式 */
        @media (min-width: 769px) and (orientation: landscape) {
            .sidebar {
                transform: translateX(0);
            }
        }

        /* 竖屏样式 */
        @media (min-width: 769px) and (orientation: portrait) {
            .sidebar {
                transform: translateX(-100%);
            }
        }
 
        /* 打印样式优化 */
        @media print {
            .top-nav, .sidebar, .search-container, .footer {
                display: none;
            }
            
            .app-container {
                grid-template-areas: "main";
                grid-template-columns: 1fr;
            }
            
            .main-content {
                height: auto;
                padding: 0;
            }
        }

        /* 新增样式：模态框表单组 */
        .form-group {
            margin-bottom: 15px;
        }

        /* 新增样式：删除确认框 */
        .confirm-dialog {
            background: rgba(40, 40, 60, 0.95);
            padding: 20px;
            border-radius: 8px;
            max-width: 400px;
            margin: 20px auto;
            text-align: center;
        }

        .confirm-dialog p {
            margin-bottom: 20px;
        }

        .confirm-dialog-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .confirm-dialog-buttons button {
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .confirm-dialog-buttons .confirm-btn {
            background: var(--primary-color);
            color: white;
            border: none;
        }

        .confirm-dialog-buttons .cancel-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
        }

        /* 新增样式：模态框标题图标 */
        .modal-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* 新增样式：表单输入美化 */
        .form-control {
            transition: all 0.3s;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(142, 68, 173, 0.3);
            outline: none;
        }

        /* 新增样式：模态框按钮组 */
        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        /* 搜索模态框样式 */
        .search-engine-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .search-engine-option {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-engine-option:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        .search-engine-option i {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: block;
        }

        /* 自定义设置项 */
        .customize-item {
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .customize-item-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .customize-item-title i {
            font-size: 1.2rem;
        }

        /* 颜色选择器 */
        .color-picker-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .color-preview-box {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
        }

        /* 编辑表单 */
        .edit-form {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* 成功提示 */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(46, 204, 113, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 1000;
            animation: slideInRight 0.3s, fadeOut 0.5s 2.5s forwards;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* 编辑模态框样式 */
        .edit-modal-content {
            background-color: rgba(40, 40, 60, 0.95);
            margin: 5% auto;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            animation: slideIn 0.3s;
        }
        
        /* 返回顶部按钮 - 固定在右下角 */
        .back-to-top {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--primary-color);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          opacity: 0;
          transform: translateY(20px);
          transition: all 0.3s;
          z-index: 101;
          border: 1px solid rgba(255, 255, 255, 0.3);
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
          font-size: 1.1rem;
        }
        
        .back-to-top.visible {
          opacity: 1;
          transform: translateY(0);
        }
        
        .back-to-top:hover {
          background: var(--secondary-color);
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
          .detail-modal-content {
            width: 95%;
            padding: 20px;
          }
        }
        
        @media (max-width: 480px) {
          .detail-modal-content {
            padding: 15px;
          }
        }
        
        /* 图片裁剪区域 */
        .crop-container {
            display: none;
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
            margin: 15px 0;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 5px;
        }
        
        .crop-image {
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
        }
        
        .crop-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .crop-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            cursor: move;
            border: 1px dashed rgba(255,255,255,0.5);
        }
        
        .crop-handle {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            z-index: 10;
        }
        
        .crop-handle-tl { top: -10px; left: -10px; cursor: nw-resize; }
        .crop-handle-tr { top: -10px; right: -10px; cursor: ne-resize; }
        .crop-handle-bl { bottom: -10px; left: -10px; cursor: sw-resize; }
        .crop-handle-br { bottom: -10px; right: -10px; cursor: se-resize; }
    </style>
</head>
 
<body>
    <!-- 加载动画 -->
    <div class="loader-container" id="loader">
        <div class="loader"></div>
        <div class="loader-text">正在跳转中...</div>
        <button class="btn-cancel">取消跳转</button>
    </div>
    
    <!-- 成功提示 -->
    <div id="success-message" class="success-message" style="display: none;"></div>
    
    <!-- 添加分类模态框 -->
    <div id="add-category-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-folder-plus"></i>
                <h2>添加分类</h2>
            </div>
            <div class="form-group">
                <label for="category-type">选择分类类型:</label>
                <select id="category-type" class="form-control">
                    <option value="existing">添加到现有分类</option>
                    <option value="new">创建新分类</option>
                </select>
            </div>
            
            <div id="existing-category-container" class="form-group">
                <label for="existing-category">选择分类:</label>
                <select id="existing-category" class="form-control">
                    <!-- 动态填充分类选项 -->
                </select>
            </div>
            
            <div id="new-category-container" class="form-group" style="display: none;">
                <label for="new-category-name">分类名称:</label>
                <input type="text" id="new-category-name" class="form-control" placeholder="输入新分类名称">
                
                <label for="new-category-id">分类ID (英文):</label>
                <input type="text" id="new-category-id" class="form-control" placeholder="例如: new-section">
            </div>
            
            <div class="modal-buttons">
                <button id="confirm-add-category" class="btn">确认添加</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 添加模块模态框 -->
    <div id="add-module-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-layer-group"></i>
                <h2>添加模块</h2>
            </div>
            <div class="form-group">
                <label for="module-title">模块标题:</label>
                <input type="text" id="module-title" class="form-control" placeholder="例如: 搜索引擎">
            </div>
            
            <div class="form-group">
                <label for="module-icon">选择图标:</label>
                <select id="module-icon" class="form-control">
                    <option value="fa-search">搜索</option>
                    <option value="fa-globe">全球</option>
                    <option value="fa-lock">隐私</option>
                    <option value="fa-graduation-cap">学术</option>
                    <option value="fa-book">书籍</option>
                    <option value="fa-film">电影</option>
                    <option value="fa-music">音乐</option>
                    <option value="fa-gamepad">游戏</option>
                    <option value="fa-paint-brush">绘画</option>
                    <option value="fa-code">编程</option>
                    <option value="fa-cloud">云存储</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="module-category">选择分类:</label>
                <select id="module-category" class="form-control">
                    <!-- 动态填充分类选项 -->
                </select>
            </div>
            
            <div class="modal-buttons">
                <button id="confirm-add-module" class="btn">添加模块</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 添加网站模态框 -->
    <div id="add-website-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-globe"></i>
                <h2>添加网站</h2>
            </div>
            <div class="form-group">
                <label for="website-name">网站名称:</label>
                <input type="text" id="website-name" class="form-control" placeholder="例如: Google">
            </div>
            
            <div class="form-group">
                <label for="website-url">网站URL:</label>
                <input type="url" id="website-url" class="form-control" placeholder="https://www.google.com">
            </div>
            
            <div class="form-group">
                <label for="website-desc">网站描述:</label>
                <input type="text" id="website-desc" class="form-control" placeholder="例如: 全球搜索引擎">
            </div>
            
            <div class="form-group">
                <label for="website-keywords">关键词(用于搜索):</label>
                <input type="text" id="website-keywords" class="form-control" placeholder="例如: Google 搜索">
            </div>
            
            <div class="form-group file-upload">
                <label>网站图片:</label>
                <label class="file-upload-label" for="website-image-upload">
                    <i class="fas fa-image"></i>
                    <span>点击上传图片</span>
                    <input type="file" id="website-image-upload" accept="image/*">
                </label>
                <img id="website-image-preview" class="image-preview" alt="图片预览">
                <input type="hidden" id="website-image">
            </div>
            
            <div class="form-group">
                <label for="website-module">选择模块:</label>
                <select id="website-module" class="form-control">
                    <!-- 动态填充模块选项 -->
                </select>
            </div>
            
            <div class="modal-buttons">
                <button id="confirm-add-website" class="btn">添加网站</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 搜索选项模态框 -->
    <div id="search-options-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-search"></i>
                <h2>选择搜索引擎</h2>
            </div>
            <div class="search-engine-options">
                <div class="search-engine-option" data-type="site">
                    <i class="fas fa-home"></i>
                    <div>站内搜索</div>
                </div>
                <div class="search-engine-option" data-type="baidu">
                    <i class="fab fa-baidu"></i>
                    <div>百度搜索</div>
                </div>
                <div class="search-engine-option" data-type="google">
                    <i class="fab fa-google"></i>
                    <div>谷歌搜索</div>
                </div>
                <div class="search-engine-option" data-type="bing">
                    <i class="fab fa-microsoft"></i>
                    <div>必应搜索</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 自定义主题模态框 -->
    <div id="customize-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-palette"></i>
                <h2>自定义主题</h2>
            </div>
            
            <!-- 全局设置 -->
            <div class="customize-item">
                <div class="customize-item-title">
                    <i class="fas fa-globe"></i>
                    <span>全局设置</span>
                </div>
                <div class="edit-form">
                    <div class="form-group">
                        <label for="theme-color">主题颜色:</label>
                        <input type="color" id="theme-color" value="#8e44ad" style="width: 100%; height: 40px;">
                    </div>
                    
                    <div class="form-group">
                        <label>背景图片:</label>
                        <div class="file-upload">
                            <label class="file-upload-label" for="bg-image-landscape-upload">
                                <i class="fas fa-image"></i>
                                <span>上传横屏背景图(16:9)</span>
                                <input type="file" id="bg-image-landscape-upload" accept="image/*">
                            </label>
                            <img id="bg-image-landscape-preview" class="image-preview" alt="横屏背景图预览">
                        </div>
                        <div class="crop-container" id="crop-container-landscape">
                            <img id="crop-image-landscape" class="crop-image" alt="裁剪预览">
                            <div class="crop-overlay" id="crop-overlay-landscape"></div>
                            <div class="crop-handle crop-handle-tl"></div>
                            <div class="crop-handle crop-handle-tr"></div>
                            <div class="crop-handle crop-handle-bl"></div>
                            <div class="crop-handle crop-handle-br"></div>
                        </div>
                        <div class="crop-controls" id="crop-controls-landscape">
                            <button class="btn btn-secondary" id="crop-cancel-landscape">取消</button>
                            <button class="btn" id="crop-confirm-landscape">确认裁剪</button>
                        </div>
                        <div class="file-upload" style="margin-top: 10px;">
                            <label class="file-upload-label" for="bg-image-portrait-upload">
                                <i class="fas fa-image"></i>
                                <span>上传竖屏背景图(9:16)</span>
                                <input type="file" id="bg-image-portrait-upload" accept="image/*">
                            </label>
                            <img id="bg-image-portrait-preview" class="image-preview" alt="竖屏背景图预览">
                        </div>
                        <div class="crop-container" id="crop-container-portrait">
                            <img id="crop-image-portrait" class="crop-image" alt="裁剪预览">
                            <div class="crop-overlay" id="crop-overlay-portrait"></div>
                            <div class="crop-handle crop-handle-tl"></div>
                            <div class="crop-handle crop-handle-tr"></div>
                            <div class="crop-handle crop-handle-bl"></div>
                            <div class="crop-handle crop-handle-br"></div>
                        </div>
                        <div class="crop-controls" id="crop-controls-portrait">
                            <button class="btn btn-secondary" id="crop-cancel-portrait">取消</button>
                            <button class="btn" id="crop-confirm-portrait">确认裁剪</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="hue">色相调节: <span id="hue-value">0</span>°</label>
                        <input type="range" id="hue" min="0" max="360" value="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="opacity">不透明度: <span id="opacity-value">100</span>%</label>
                        <input type="range" id="opacity" min="0" max="100" value="100">
                    </div>
                    
                    <div class="form-group">
                        <label for="blur">模糊度: <span id="blur-value">0</span>px</label>
                        <input type="range" id="blur" min="0" max="20" value="0">
                    </div>
                </div>
                <button class="btn btn-secondary edit-btn">编辑</button>
            </div>
            
            <!-- 文字设置 -->
            <div class="customize-item">
                <div class="customize-item-title">
                    <i class="fas fa-font"></i>
                    <span>文字设置</span>
                </div>
                <div class="edit-form">
                    <div class="form-group">
                        <label for="text-color">文字颜色:</label>
                        <div class="color-picker-container">
                            <input type="color" id="text-color" value="#ffffff">
                            <div class="color-preview-box" style="background-color: #ffffff;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="text-size">文字大小:</label>
                        <select id="text-size" class="form-control">
                            <option value="small">小</option>
                            <option value="medium" selected>中</option>
                            <option value="large">大</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="text-font">字体:</label>
                        <select id="text-font" class="form-control">
                            <option value="'Segoe UI', system-ui, -apple-system, sans-serif">系统默认</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Helvetica Neue', sans-serif">Helvetica</option>
                            <option value="'Microsoft YaHei', sans-serif">微软雅黑</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-secondary edit-btn">编辑</button>
            </div>
            
            <!-- 模块设置 -->
            <div class="customize-item">
                <div class="customize-item-title">
                    <i class="fas fa-th-large"></i>
                    <span>模块设置</span>
                </div>
                <div class="edit-form">
                    <div class="form-group">
                        <label for="module-bg-color">背景颜色:</label>
                        <div class="color-picker-container">
                            <input type="color" id="module-bg-color" value="#28283c">
                            <div class="color-preview-box" style="background-color: #28283c;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="module-opacity">不透明度: <span id="module-opacity-value">70</span>%</label>
                        <input type="range" id="module-opacity" min="0" max="100" value="70">
                    </div>
                    
                    <div class="form-group">
                        <label for="module-border">边框样式:</label>
                        <select id="module-border" class="form-control">
                            <option value="none">无边框</option>
                            <option value="solid" selected>实线</option>
                            <option value="dashed">虚线</option>
                            <option value="dotted">点线</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-secondary edit-btn">编辑</button>
            </div>
            
            <!-- 按钮设置 -->
            <div class="customize-item">
                <div class="customize-item-title">
                    <i class="fas fa-hand-pointer"></i>
                    <span>按钮设置</span>
                </div>
                <div class="edit-form">
                    <div class="form-group">
                        <label for="btn-bg-color">背景颜色:</label>
                        <div class="color-picker-container">
                            <input type="color" id="btn-bg-color" value="#8e44ad">
                            <div class="color-preview-box" style="background-color: #8e44ad;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="btn-text-color">文字颜色:</label>
                        <div class="color-picker-container">
                            <input type="color" id="btn-text-color" value="#ffffff">
                            <div class="color-preview-box" style="background-color: #ffffff;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="btn-radius">圆角大小: <span id="btn-radius-value">25</span>px</label>
                        <input type="range" id="btn-radius" min="0" max="50" value="25">
                    </div>
                </div>
                <button class="btn btn-secondary edit-btn">编辑</button>
            </div>
            
            <div class="modal-buttons">
                <button id="apply-bg" class="btn">保存设置</button>
                <button id="reset-bg" class="btn btn-secondary">重置设置</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 收藏模态框 -->
    <div id="favorites-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-star"></i>
                <h2>我的收藏</h2>
            </div>
            <div id="favorites-container">
                <!-- 收藏内容将在这里动态生成 -->
            </div>
        </div>
    </div>
    
    <!-- 浏览记录模态框 -->
    <div id="history-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-history"></i>
                <h2>浏览记录</h2>
            </div>
            <div id="history-container">
                <!-- 浏览记录将在这里动态生成 -->
            </div>
        </div>
    </div>
    
    <!-- 管理模态框 -->
    <div id="manage-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-cog"></i>
                <h2>资源管理</h2>
            </div>
            <div class="form-group">
                <label for="manage-type">管理类型:</label>
                <select id="manage-type" class="form-control">
                    <option value="categories">分类管理</option>
                    <option value="modules">模块管理</option>
                    <option value="websites">网站管理</option>
                </select>
            </div>
            
            <div id="manage-content">
                <!-- 管理内容将在这里动态生成 -->
            </div>
        </div>
    </div>
    
    <!-- 编辑分类模态框 -->
    <div id="edit-category-modal" class="modal">
        <div class="edit-modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-edit"></i>
                <h2>编辑分类</h2>
            </div>
            <div class="form-group">
                <label for="edit-category-name">分类名称:</label>
                <input type="text" id="edit-category-name" class="form-control">
            </div>
            <div class="modal-buttons">
                <button id="confirm-edit-category" class="btn">保存更改</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 编辑模块模态框 -->
    <div id="edit-module-modal" class="modal">
        <div class="edit-modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-edit"></i>
                <h2>编辑模块</h2>
            </div>
            <div class="form-group">
                <label for="edit-module-title">模块标题:</label>
                <input type="text" id="edit-module-title" class="form-control">
            </div>
            <div class="form-group">
                <label for="edit-module-icon">选择图标:</label>
                <select id="edit-module-icon" class="form-control">
                    <option value="fa-search">搜索</option>
                    <option value="fa-globe">全球</option>
                    <option value="fa-lock">隐私</option>
                    <option value="fa-graduation-cap">学术</option>
                    <option value="fa-book">书籍</option>
                    <option value="fa-film">电影</option>
                    <option value="fa-music">音乐</option>
                    <option value="fa-gamepad">游戏</option>
                    <option value="fa-paint-brush">绘画</option>
                    <option value="fa-code">编程</option>
                    <option value="fa-cloud">云存储</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button id="confirm-edit-module" class="btn">保存更改</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 编辑网站模态框 -->
    <div id="edit-website-modal" class="modal">
        <div class="edit-modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-edit"></i>
                <h2>编辑网站</h2>
            </div>
            <div class="form-group">
                <label for="edit-website-name">网站名称:</label>
                <input type="text" id="edit-website-name" class="form-control">
            </div>
            <div class="form-group">
                <label for="edit-website-url">网站URL:</label>
                <input type="url" id="edit-website-url" class="form-control">
            </div>
            <div class="form-group">
                <label for="edit-website-desc">网站描述:</label>
                <input type="text" id="edit-website-desc" class="form-control">
            </div>
            <div class="form-group">
                <label for="edit-website-keywords">关键词(用于搜索):</label>
                <input type="text" id="edit-website-keywords" class="form-control">
            </div>
            <div class="form-group file-upload">
                <label>网站图片:</label>
                <label class="file-upload-label" for="edit-website-image-upload">
                    <i class="fas fa-image"></i>
                    <span>点击上传图片</span>
                    <input type="file" id="edit-website-image-upload" accept="image/*">
                </label>
                <img id="edit-website-image-preview" class="image-preview" alt="图片预览">
                <input type="hidden" id="edit-website-image">
            </div>
            <div class="modal-buttons">
                <button id="confirm-edit-website" class="btn">保存更改</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>
    
    <!-- 删除确认模态框 -->
    <div id="delete-confirm-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="关闭">&times;</span>
            <div class="modal-title">
                <i class="fas fa-exclamation-triangle"></i>
                <h2>确认删除</h2>
            </div>
            <div id="delete-confirm-message" style="text-align: center; margin-bottom: 20px;">
                您确定要删除此项吗？
            </div>
            <div class="modal-buttons">
                <button id="confirm-delete" class="btn">确认删除</button>
                <button class="btn btn-secondary close-modal-btn">取消</button>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- 顶部导航栏 - 仅保留菜单按钮和logo -->
        <header class="top-nav">
            <!-- 菜单按钮 -->
            <div class="menu-container">
                <div class="menu-btn" id="menu-btn">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="logo">巳泷资源库</div>
        </header>
  
        <!-- 统一侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <h3 class="sidebar-title">导航菜单</h3>
            <nav class="sidebar-menu">
                <a href="#search-section"><i class="fas fa-search"></i> 磁力搜索</a>
                <a href="#comprehensive-section"><i class="fas fa-folder"></i> 综合网站</a>
                <a href="#comics-section"><i class="fas fa-palette"></i> 漫画网站</a>
                <a href="#novels-section"><i class="fas fa-book"></i> 小说网站</a>
                <a href="#games-section"><i class="fas fa-gamepad"></i> 游戏网站</a>
                <a href="#videos-section"><i class="fas fa-film"></i> 影视网站</a>
                <a href="#cloud-section"><i class="fas fa-cloud-download"></i> 网盘资源</a>
                <a href="#tools-section"><i class="fas fa-wrench"></i> 实用工具</a>
                <a href="#life-section"><i class="fas fa-home"></i> 生活服务</a>
                <a href="#learning-section"><i class="fas fa-graduation-cap"></i> 学习资源</a>
            </nav>
            
            <h3 class="sidebar-title" style="margin-top: 20px;">菜单</h3>
            <nav class="sidebar-menu">
                <a href="#" id="nav-home-btn"><i class="fas fa-home"></i> 首页</a>
                <a href="#" id="favorites-btn"><i class="fas fa-star"></i> 收藏</a>
                <a href="#" id="manage-btn"><i class="fas fa-cog"></i> 管理</a>
                <a href="#" id="customize-bg-btn"><i class="fas fa-palette"></i> 自定义</a>
                <a href="#" id="history-btn"><i class="fas fa-history"></i> 浏览记录</a>
                <a href="#" id="add-category-btn"><i class="fas fa-folder-plus"></i> 添加分类</a>
                <a href="#" id="add-module-btn"><i class="fas fa-layer-group"></i> 添加模块</a>
                <a href="#" id="add-website-btn"><i class="fas fa-globe"></i> 添加网站</a>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 搜索框 -->
            <div class="search-container">
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="输入关键词搜索资源..." aria-label="搜索资源" id="site-search">
                    <button class="search-btn" id="site-search-btn">搜索</button>
                </div>
            </div>

            <!-- 磁力搜索区域 -->
            <section id="search-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">磁力搜索</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-1" data-default="true">
                        <button class="favorite-btn" data-module="module-1"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-search"></i></div>
                            <h3 class="category-title">磁力资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://skrbtvc.top/" class="website-item" data-keywords="SkrBT" 
                               data-title="SkrBT" data-url="https://skrbtvc.top/" 
                               data-desc="专注于本子资源的磁力搜索网站，提供高效的资源检索服务" 
                               data-features="简洁易用的界面|快速搜索体验|专注于本子资源|每日更新内容" 
                               data-problems="有少量广告|搜索任意资源后复制种子链接|需用磁力工具下载">
                                <img src="https://via.placeholder.com/300x150?text=SkrBT" alt="SkrBT" class="website-img">
                                <div class="website-name">SkrBT</div>
                                <div class="website-desc">磁力搜索网站</div>
                            </a>
                            <a href="https://laowangvc.top/" class="website-item" data-keywords="老王磁力" 
                               data-title="老王磁力" data-url="https://laowangvc.top/" 
                               data-desc="影视资源磁力搜索引擎，提供海量高清影视资源下载" 
                               data-features="海量影视资源|高清画质支持|快速下载体验|用户友好界面" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=老王磁力" alt="老王磁力" class="website-img">
                                <div class="website-name">老王磁力</div>
                                <div class="website-desc">影视磁力搜索网站</div>
                            </a>
                            <a href="https://cili.xyz/" class="website-item" data-keywords="磁力导航" 
                               data-title="磁力导航" data-url="https://cili.xyz/" 
                               data-desc="综合性磁力资源导航平台，汇集多种磁力资源站点" 
                               data-features="资源站点聚合|分类清晰明确|每日更新维护|便捷导航体验" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=磁力导航" alt="磁力导航" class="website-img">
                                <div class="website-name">磁力导航</div>
                                <div class="website-desc">综合导航磁力网站</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 综合网站区域 -->
            <section id="comprehensive-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">综合网站</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-2" data-default="true">
                        <button class="favorite-btn" data-module="module-2"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-globe"></i></div>
                            <h3 class="category-title">综合资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://www.bgrdh.com/#term-9369" class="website-item" data-keywords="办公导航" 
                               data-title="办公导航" data-url="https://www.bgrdh.com/#term-9369" 
                               data-desc="一站式办公资源导航平台，提供各类办公工具和资源" 
                               data-features="办公资源聚合|分类清晰明确|工具丰富多样|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=办公导航" alt="办公导航" class="website-img">
                                <div class="website-name">办公导航</div>
                                <div class="website-desc">综合资源网站</div>
                            </a>
                            <a href="https://www.zkcee.com/" class="website-item" data-keywords="知客驿站" 
                               data-title="知客驿站" data-url="https://www.zkcee.com/" 
                               data-desc="日常综合资源链接平台，汇集各类实用网站资源" 
                               data-features="资源丰富多样|分类清晰明确|持续更新维护|用户友好界面" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=知客驿站" alt="知客驿站" class="website-img">
                                <div class="website-name">知客驿站</div>
                                <div class="website-desc">日常综合链接资源</div>
                            </a>
                            <a href="https://search.chongbuluo.com" class="website-item" data-keywords="虫部落" 
                               data-title="虫部落" data-url="https://search.chongbuluo.com" 
                               data-desc="专业资源搜索引擎，提供高效的综合资源搜索服务" 
                               data-features="多引擎聚合搜索|高效检索体验|资源分类清晰|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=虫部落" alt="虫部落" class="website-img">
                                <div class="website-name">虫部落</div>
                                <div class="website-desc">综合资源搜索网站</div>
                            </a>
                            <a href="https://www.penhuol.com/" class="website-item" data-keywords="喷火龙" 
                               data-title="喷火龙" data-url="https://www.penhuol.com/" 
                               data-desc="综合性资源下载平台，提供各类资源的下载服务" 
                               data-features="资源丰富多样|下载速度稳定|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=喷火龙" alt="喷火龙" class="website-img">
                                <div class="website-name">喷火龙</div>
                                <div class="website-desc">综合资源网站</div>
                            </a>
                            <a href="https://poipiku.com/12082901/12042343.html" class="website-item" data-keywords="Poipiku插画" 
                               data-title="Poipiku插画作品" data-url="https://poipiku.com/12082901/12042343.html" 
                               data-desc="日本插画分享平台Poipiku上的精选作品展示页" 
                               data-features="精美插画|高清画质|创意设计|艺术欣赏" 
                               data-problems="进入界面后点年龄验证|然后再点击输入密钥|👇可长按复制下方密钥👇|Silong2778">
                                <img src="https://via.placeholder.com/300x150?text=Poipiku插画" alt="Poipiku插画" class="website-img">
                                <div class="website-name">Poipiku插画</div>
                                <div class="website-desc">Poipiku作品展示页</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 漫画网站区域 -->
            <section id="comics-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">漫画网站</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-3" data-default="true">
                        <button class="favorite-btn" data-module="module-3"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-paint-brush"></i></div>
                            <h3 class="category-title">漫画资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://trello.com/b/V9TEaHIa" class="website-item" data-keywords="香香腐宅" 
                               data-title="香香腐宅" data-url="https://trello.com/b/V9TEaHIa" 
                               data-desc="日韩耽美漫画资源平台，提供高质量的漫画作品" 
                               data-features="高质量漫画资源|日韩作品丰富|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=香香腐宅" alt="香香腐宅" class="website-img">
                                <div class="website-name">香香腐宅</div>
                                <div class="website-desc">日韩耽美漫画网站</div>
                            </a>
                            <a href="https://fuwx.cc/mw666" class="website-item" data-keywords="漫蛙" 
                               data-title="漫蛙" data-url="https://fuwx.cc/mw666" 
                               data-desc="耽美漫画本子资源平台，提供丰富的漫画作品" 
                               data-features="丰富的漫画资源|分类清晰明确|持续更新维护|用户友好界面" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=漫蛙" alt="漫蛙" class="website-img">
                                <div class="website-name">漫蛙</div>
                                <div class="website-desc">耽美漫画本子</div>
                            </a>
                            <a href="https://picawang.com/pdownload/?notos=yes" class="website-item" data-keywords="哔咔" 
                               data-title="哔咔" data-url="https://picawang.com/pdownload/?notos=yes" 
                               data-desc="综合漫画本子资源平台，提供多种类型的漫画作品" 
                               data-features="综合漫画资源|多种类型作品|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=哔咔" alt="哔咔" class="website-img">
                                <div class="website-name">哔咔</div>
                                <div class="website-desc">综合漫画本子</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 小说网站区域 -->
            <section id="novels-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">小说网站</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-4" data-default="true">
                        <button class="favorite-btn" data-module="module-4"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-book"></i></div>
                            <h3 class="category-title">小说资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="http://quanbl1.com" class="website-item" data-keywords="BL小说网" 
                               data-title="BL小说网" data-url="http://quanbl1.com" 
                               data-desc="BL耽美小说资源平台，提供丰富的完本小说作品" 
                               data-features="丰富的BL小说资源|完本作品众多|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=BL小说网" alt="BL小说网" class="website-img">
                                <div class="website-name">BL小说网</div>
                                <div class="website-desc">BL耽美小说网站</div>
                            </a>
                            <a href="https://furrynovel.ink/pixiv/tags" class="website-item" data-keywords="LINPX" 
                               data-title="LINPX" data-url="https://furrynovel.ink/pixiv/tags" 
                               data-desc="全站标签小说资源平台，提供按标签分类的小说作品" 
                               data-features="标签分类系统|小说资源丰富|社区交流功能|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=LINPX" alt="LINPX" class="website-img">
                                <div class="website-name">LINPX</div>
                                <div class="website-desc">全站标签小说网</div>
                            </a>
                            <a href="https://www.cxc90.com" class="website-item" data-keywords="海棠花" 
                               data-title="海棠花" data-url="https://www.cxc90.com" 
                               data-desc="耽美小说资源平台，提供分类清晰的小说作品" 
                               data-features="耽美小说资源|分类清晰明确|持续更新维护|用户友好界面" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=海棠花" alt="海棠花" class="website-img">
                                <div class="website-name">海棠花</div>
                                <div class="website-desc">耽美小说网站</div>
                            </a>
                            <a href="https://www.finalbooks.work/category/1/" class="website-item" data-keywords="完本耽美小说" 
                               data-title="完本耽美小说" data-url="https://www.finalbooks.work/category/1/" 
                               data-desc="完本耽美小说资源平台，专注于提供高质量的完本作品" 
                               data-features="完本耽美小说|分类清晰明确|作品质量高|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=完本耽美小说" alt="完本耽美小说" class="website-img">
                                <div class="website-name">完本耽美小说</div>
                                <div class="website-desc">完本耽美小说网站</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 游戏网站区域 -->
            <section id="games-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">游戏网站</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-5" data-default="true">
                        <button class="favorite-btn" data-module="module-5"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-gamepad"></i></div>
                            <h3 class="category-title">游戏资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="http://m.downcc.com/k/blyouxi" class="website-item" data-keywords="BL游戏1" 
                               data-title="BL游戏1" data-url="http://m.downcc.com/k/blyouxi" 
                               data-desc="BL游戏资源平台，提供多种类型的BL游戏下载" 
                               data-features="丰富的BL游戏资源|多种类型作品|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=BL游戏1" alt="BL游戏1" class="website-img">
                                <div class="website-name">BL游戏1</div>
                                <div class="website-desc">BL游戏网站</div>
                            </a>
                            <a href="http://m.downyi.com/key/blyx" class="website-item" data-keywords="BL游戏2" 
                               data-title="BL游戏2" data-url="http://m.downyi.com/key/blyx" 
                               data-desc="BL游戏资源平台，提供多种类型的BL游戏下载" 
                               data-features="丰富的BL游戏资源|多种类型作品|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=BL游戏2" alt="BL游戏2" class="website-img">
                                <div class="website-name">BL游戏2</div>
                                <div class="website-desc">BL游戏网站</div>
                            </a>
                            <a href="https://srk.games/" class="website-item" data-keywords="兽人游戏库" 
                               data-title="兽人游戏库" data-url="https://srk.games/" 
                               data-desc="兽人游戏资源平台，提供多种类型的兽人游戏下载" 
                               data-features="丰富的兽人游戏资源|多种类型作品|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=兽人游戏库" alt="兽人游戏库" class="website-img">
                                <div class="website-name">兽人游戏库</div>
                                <div class="website-desc">兽人游戏网站</div>
                            </a>
                            <a href="https://poki.com/zh#utm_source=china" class="website-item" data-keywords="在线小游戏" 
                               data-title="在线小游戏" data-url="https://poki.com/zh#utm_source=china" 
                               data-desc="在线小游戏平台，提供多种类型的休闲小游戏" 
                               data-features="丰富的小游戏资源|无需下载安装|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=在线小游戏" alt="在线小游戏" class="website-img">
                                <div class="website-name">在线小游戏</div>
                                <div class="website-desc">在线小游戏网站</div>
                            </a>
                            <a href="https://www.emu666.com/" class="website-item" data-keywords="Emu666" 
                               data-title="Emu666" data-url="https://www.emu666.com/" 
                               data-desc="在线游戏资源平台，提供500多款各类在线小游戏" 
                               data-features="500多款小游戏|无需下载安装|分类清晰明确|持续更新维护" 
                               data-problems="">
                                <img src="https://via.placeholder.com/300x150?text=Emu666" alt="Emu666" class="website-img">
                                <div class="website-name">Emu666</div>
                                <div class="website-desc">在线小游戏网站</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 影视网站区域 -->
            <section id="videos-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">影视网站</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-6" data-default="true">
                        <button class="favorite-btn" data-module="module-6"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-film"></i></div>
                            <h3 class="category-title">影视资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://www.gaymaletube.com/zh/cat/hentai" class="website-item" data-keywords="BL动漫【VPN】" 
                               data-title="BL动漫【VPN】" data-url="https://www.gaymaletube.com/zh/cat/hentai" 
                               data-desc="专注男同题材的动漫资源平台，提供大量高质量作品" 
                               data-features="海量BL动漫资源|高清画质|分类细致|每日更新" 
                               data-problems="需要稳定VPN访问|部分内容需要注册|加载时间可能较长">
                                <img src="https://via.placeholder.com/300x150?text=BL动漫" alt="BL动漫" class="website-img">
                                <div class="website-name">BL动漫【VPN】</div>
                                <div class="website-desc">18禁动漫网站需要使用加速【VPN】</div>
                            </a>
                            <a href="https://www.ssm.fun/" class="website-item" data-keywords="咸豆浆【VPN】" 
                               data-title="咸豆浆【VPN】" data-url="https://www.ssm.fun/" 
                               data-desc="男同视频资源搜索引擎，提供高效的资源检索服务" 
                               data-features="强大的搜索功能|海量视频资源|分类标签系统|用户评分机制" 
                               data-problems="需要VPN访问|搜索结果可能不稳定|部分链接需要二次跳转">
                                <img src="https://via.placeholder.com/300x150?text=咸豆浆" alt="咸豆浆" class="website-img">
                                <div class="website-name">咸豆浆【VPN】</div>
                                <div class="website-desc">男同视频资源搜索网需要开加速器才可以访问【VPN】</div>
                            </a>
                            <a href="https://www.gaymaletube.com/zh/cat/chinese" class="website-item" data-keywords="国产Gay片【VPN】" 
                               data-title="国产Gay片【VPN】" data-url="https://www.gaymaletube.com/zh/cat/chinese" 
                               data-desc="国产男同视频资源平台，汇集大量本土作品" 
                               data-features="纯国产内容|高清画质|分类细致|定期更新" 
                               data-problems="需要VPN访问|部分内容有区域限制|视频加载速度不稳定">
                                <img src="https://via.placeholder.com/300x150?text=国产Gay片" alt="国产Gay片" class="website-img">
                                <div class="website-name">国产Gay片【VPN】</div>
                                <div class="website-desc">国产Gay片网站需要使用加速器【VPN】</div>
                            </a>
                            <a href="https://www.gaymaletube.com/zh/cat/japanese" class="website-item" data-keywords="日本Gay片【VPN】" 
                               data-title="日本Gay片【VPN】" data-url="https://www.gaymaletube.com/zh/cat/japanese" 
                               data-desc="日本男同视频资源平台，汇集大量日系作品" 
                               data-features="纯日系内容|高清画质|分类细致|更新及时" 
                               data-problems="需要VPN访问|部分内容需要会员|语言障碍">
                                <img src="https://via.placeholder.com/300x150?text=日本Gay片" alt="日本Gay片" class="website-img">
                                <div class="website-name">日本Gay片【VPN】</div>
                                <div class="website-desc">日本Gay片网站需要使用加速器【VPN】</div>
                            </a>
                            <a href="https://www.gaymaletube.com/zh/" class="website-item" data-keywords="Gay片大合集【VPN】" 
                               data-title="Gay片大合集【VPN】" data-url="https://www.gaymaletube.com/zh/" 
                               data-desc="综合性男同视频资源平台，汇集全球作品" 
                               data-features="全球资源整合|高清画质|多语言支持|智能推荐" 
                               data-problems="需要VPN访问|部分内容需要会员|加载时间可能较长">
                                <img src="https://via.placeholder.com/300x150?text=Gay片大合集" alt="Gay片大合集" class="website-img">
                                <div class="website-name">Gay片大合集【VPN】</div>
                                <div class="website-desc">Gay片综合分类网站需要使用加速器【VPN】</div>
                            </a>
                            <a href="https://cn.xgroovy.com/gay/" class="website-item" data-keywords="XGROOVY【VPN】" 
                               data-title="XGROOVY【VPN】" data-url="https://cn.xgroovy.com/gay/" 
                               data-desc="高端男同视频平台，提供专业制作内容" 
                               data-features="专业制作内容|4K画质|独家作品|多设备支持" 
                               data-problems="需要VPN访问|部分内容需要付费|注册流程复杂">
                                <img src="https://via.placeholder.com/300x150?text=XGROOVY" alt="XGROOVY" class="website-img">
                                <div class="website-name">XGROOVY【VPN】</div>
                                <div class="website-desc">高端Gay片网站需要使用加速器【VPN】</div>
                            </a>
                            <a href="https://www.boyfriendtv3.com/search/?q=Yaoi" class="website-item" data-keywords="BOYFRIENDTV【VPN】" 
                               data-title="BOYFRIENDTV【VPN】" data-url="https://www.boyfriendtv3.com/search/?q=Yaoi" 
                               data-desc="男同视频聚合平台，汇集多个来源内容" 
                               data-features="海量视频资源|免费观看|多来源整合|搜索功能强大" 
                               data-problems="需要VPN访问|广告较多|部分视频质量不高">
                                <img src="https://via.placeholder.com/300x150?text=BOYFRIENDTV" alt="BOYFRIENDTV" class="website-img">
                                <div class="website-name">BOYFRIENDTV【VPN】</div>
                                <div class="website-desc">Gay片综合分类网站需要使用加速器【VPN】</div>
                            </a>
                            <a href="https://www.gaypornvideos.tv/" class="website-item" data-keywords="GayPornVideos【免VPN】" 
                               data-title="GayPornVideos【免VPN】" data-url="https://www.gaypornvideos.tv/" 
                               data-desc="可直接访问的男同视频资源平台" 
                               data-features="无需VPN|免费观看|海量视频|分类细致" 
                               data-problems="广告较多|部分视频加载慢|内容质量参差不齐">
                                <img src="https://via.placeholder.com/300x150?text=GayPornVideos" alt="GayPornVideos" class="website-img">
                                <div class="website-name">GayPornVideos【免VPN】</div>
                                <div class="website-desc">综合Gay片网站1无需加速器可访问但广告较多</div>
                            </a>
                            <a href="http://www.hotbearporn.com/zh/hardcore/" class="website-item" data-keywords="HOTBEAR PORN【免VPN】" 
                               data-title="HOTBEAR PORN【免VPN】" data-url="http://www.hotbearporn.com/zh/hardcore/" 
                               data-desc="熊族主题男同视频平台，可直接访问" 
                               data-features="熊族主题内容|无需VPN|免费观看|分类细致" 
                               data-problems="广告较多|加载速度不稳定|内容更新不及时">
                                <img src="https://via.placeholder.com/300x150?text=HOTBEAR" alt="HOTBEAR" class="website-img">
                                <div class="website-name">HOTBEAR PORN【免VPN】</div>
                                <div class="website-desc">综合Gay片网站2无需加速器可访问但广告较多</div>
                            </a>
                            <a href="https://gayvideohub.click/" class="website-item" data-keywords="GAYVIDEOHUB【免VPN】" 
                               data-title="GAYVIDEOHUB【免VPN】" data-url="https://gayvideohub.click/" 
                               data-desc="男同视频资源聚合平台，可直接访问" 
                               data-features="海量视频资源|无需VPN|免费观看|多分类标签" 
                               data-problems="广告较多|部分视频链接失效|界面设计老旧">
                                <img src="https://via.placeholder.com/300x150?text=GAYVIDEOHUB" alt="GAYVIDEOHUB" class="website-img">
                                <div class="website-name">GAYVIDEOHUB【免VPN】</div>
                                <div class="website-desc">综合Gay片网站3无需加速器可访问但广告较多</div>
                            </a>
                            <a href="https://gaylime.com//" class="website-item" data-keywords="GAY LIME【免VPN】" 
                               data-title="GAY LIME【免VPN】" data-url="https://gaylime.com//" 
                               data-desc="男同视频资源平台，提供各类主题内容" 
                               data-features="多种主题内容|无需VPN|免费观看|搜索功能" 
                               data-problems="广告较多|内容更新慢|部分视频质量不高">
                                <img src="https://via.placeholder.com/300x150?text=GAY+LIME" alt="GAY LIME" class="website-img">
                                <div class="website-name">GAY LIME【免VPN】</div>
                                <div class="website-desc">综合Gay片网站4无需加速器可访问但广告较多</div>
                            </a>
                            <a href="http://taiquantv.com/" class="website-item" data-keywords="泰圈【日常】" 
                               data-title="泰圈【日常】" data-url="http://taiquantv.com/" 
                               data-desc="专注于泰剧及男同内容的综合资源平台" 
                               data-features="泰剧资源丰富|腐剧内容全面|更新及时|社区交流" 
                               data-problems="部分内容需要注册|广告支持运营|加载速度一般">
                                <img src="https://via.placeholder.com/300x150?text=泰圈" alt="泰圈" class="website-img">
                                <div class="website-name">泰圈【日常】</div>
                                <div class="website-desc">腐剧 漫画 动漫 广播剧 电影</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 网盘资源区域 -->
            <section id="cloud-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">网盘资源</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-7" data-default="true">
                        <button class="favorite-btn" data-module="module-7"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-cloud-download"></i></div>
                            <h3 class="category-title">网盘资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://www.321flac.com/m/list.php?tid=5" class="website-item" data-keywords="321无损广播剧" 
                               data-title="321无损广播剧" data-url="https://www.321flac.com/m/list.php?tid=5" 
                               data-desc="专注耽美题材的广播剧资源平台，提供高质量无损音频下载" 
                               data-features="专业音频处理技术|按作品类型分类|提供剧情简介|支持批量下载" 
                               data-problems="建议注册会员获取完整资源|新剧更新周期约1-2周|网站广告支持运营">
                                <img src="https://via.placeholder.com/300x150?text=321无损广播剧" alt="321无损广播剧" class="website-img">
                                <div class="website-name">321无损广播剧</div>
                                <div class="website-desc">广播剧网盘资源</div>
                            </a>
                            <a href="http://www.quanbuzy.top/guangbo.html" class="website-item" data-keywords="未知星球广播剧" 
                               data-title="未知星球广播剧" data-url="http://www.quanbuzy.top/guangbo.html" 
                               data-desc="综合性广播剧资源聚合平台，包含多种题材和类型" 
                               data-features="资源更新及时|支持在线试听|提供多种下载方式|按声优分类" 
                               data-problems="建议定期访问获取最新资源|链接有效性有保障|经典界面设计">
                                <img src="https://via.placeholder.com/300x150?text=未知星球广播剧" alt="未知星球广播剧" class="website-img">
                                <div class="website-name">未知星球广播剧</div>
                                <div class="website-desc">综合广播剧网盘资源</div>
                            </a>
                            <a href="http://www.quanbuzy.top/fuju.html" class="website-item" data-keywords="未知星球腐剧合集" 
                               data-title="未知星球腐剧合集" data-url="http://www.quanbuzy.top/fuju.html" 
                               data-desc="专注于BL题材影视作品的资源站点" 
                               data-features="按年份分类|提供剧情简介|支持多网盘下载|更新国内外新剧" 
                               data-problems="建议选择高清资源|提供多语言字幕支持|优化访问速度">
                                <img src="https://via.placeholder.com/300x150?text=未知星球腐剧合集" alt="未知星球腐剧合集" class="website-img">
                                <div class="website-name">未知星球腐剧合集</div>
                                <div class="website-desc">腐剧分类网站</div>
                            </a>
                            <a href="https://kdocs.cn/l/ce93kgpKt0mY" class="website-item" data-keywords="巳泷网盘资源" 
                               data-title="巳泷网盘资源" data-url="https://kdocs.cn/l/ce93kgpKt0mY" 
                               data-desc="综合类资源分享平台，需使用特定客户端下载" 
                               data-features="涵盖多种资源类型|提供资源预览|支持资源求档|定期更新维护" 
                               data-problems="推荐下载小飞机APP|提供解压密码支持|资源有效性有保障">
                                <img src="https://via.placeholder.com/300x150?text=巳泷网盘资源" alt="巳泷网盘资源" class="website-img">
                                <div class="website-name">巳泷网盘资源</div>
                                <div class="website-desc">必须下载小飞机网盘APP再获取资源</div>
                            </a>
                            <a href="https://kdocs.cn/l/ckfKgdsLm5n6" class="website-item" data-keywords="羽梦星河网盘资源" 
                               data-title="羽梦星河网盘资源" data-url="https://kdocs.cn/l/ckfKgdsLm5n6" 
                               data-desc="二次元向资源分享社区，专注动漫、游戏相关内容" 
                               data-features="动漫资源丰富|提供游戏MOD|支持资源交流|有专属论坛" 
                               data-problems="建议使用分类筛选|资源有效性有保障|注册会员获取完整资源">
                                <img src="https://via.placeholder.com/300x150?text=羽梦星河网盘资源" alt="羽梦星河网盘资源" class="website-img">
                                <div class="website-name">羽梦星河网盘资源</div>
                                <div class="website-desc">必须下载小飞机网盘APP再获取资源</div>
                            </a>
                            <a href="https://pan.soku.one/" class="website-item" data-keywords="聚合网盘资源【暂不可用】" 
                               data-title="聚合网盘资源【暂不可用】" data-url="https://pan.soku.one/" 
                               data-desc="一站式网盘搜索引擎，可跨平台查找资源" 
                               data-features="支持多网盘搜索|可直接在线预览|提供资源热度分析|过滤无效链接" 
                               data-problems="服务维护中敬请期待|搜索结果质量有保障|遵守版权规范">
                                <img src="https://via.placeholder.com/300x150?text=聚合网盘资源" alt="聚合网盘资源" class="website-img">
                                <div class="website-name">聚合网盘资源【暂不可用】</div>
                                <div class="website-desc">一站式搜索各类资源在线观看</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 实用工具区域 -->
            <section id="tools-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">实用工具</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-8" data-default="true">
                        <button class="favorite-btn" data-module="module-8"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-wrench"></i></div>
                            <h3 class="category-title">实用工具</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://www.aiachuan.com/" class="website-item" data-keywords="阿川工具库" 
                               data-title="阿川工具库" data-url="https://www.aiachuan.com/" 
                               data-desc="一站式在线工具集合平台，解决各类日常需求" 
                               data-features="200+实用工具|无需安装软件|支持工具收藏|定期更新" 
                               data-problems="高级工具需要会员|广告支持平台运营|优化移动端体验">
                                <img src="https://via.placeholder.com/300x150?text=阿川工具库" alt="阿川工具库" class="website-img">
                                <div class="website-name">阿川工具库</div>
                                <div class="website-desc">这是一个能够解决你所有工具问题的网站</div>
                            </a>
                            <a href="https://converterpro.net" class="website-item" data-keywords="格式转换站" 
                               data-title="格式转换站" data-url="https://converterpro.net" 
                               data-desc="专业的多格式文件转换平台，支持各类常见格式互转" 
                               data-features="支持100+格式|批量转换功能|云端处理|保持原始质量" 
                               data-problems="大文件转换请耐心等待|高级功能需要订阅|文件大小有限制">
                                <img src="https://via.placeholder.com/300x150?text=格式转换站" alt="格式转换站" class="website-img">
                                <div class="website-name">格式转换站</div>
                                <div class="website-desc">多格式在线转换工具</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 生活服务区域 -->
            <section id="life-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">生活服务</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-9" data-default="true">
                        <button class="favorite-btn" data-module="module-9"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-home"></i></div>
                            <h3 class="category-title">生活服务</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://cook.yunyoujun.cn/" class="website-item" data-keywords="食用手册" 
                               data-title="食用手册" data-url="https://cook.yunyoujun.cn/" 
                               data-desc="智能食谱生成工具，根据现有食材推荐菜谱" 
                               data-features="AI智能推荐|支持食材筛选|提供营养分析|一键生成购物清单" 
                               data-problems="菜谱持续增加中|优化食材替代建议|增加详细步骤图">
                                <img src="https://via.placeholder.com/300x150?text=食用手册" alt="食用手册" class="website-img">
                                <div class="website-name">食用手册</div>
                                <div class="website-desc">根据食材一键生成菜谱的网站</div>
                            </a>
                            <a href="https://www.taobao.com/wangwang/ytao/index.html" class="website-item" data-keywords="一淘" 
                               data-title="一淘" data-url="https://www.taobao.com/wangwang/ytao/index.html" 
                               data-desc="淘宝官方返利平台，购物可获额外优惠" 
                               data-features="官方安全保障|额外优惠券|返利自动追踪|支持多平台比价" 
                               data-problems="返利到账周期约7天|部分商品有特别优惠|绑定支付宝更便捷">
                                <img src="https://via.placeholder.com/300x150?text=一淘" alt="一淘" class="website-img">
                                <div class="website-name">一淘</div>
                                <div class="website-desc">淘宝官方优惠券及返利平台</div>
                            </a>
                            <a href="https://www.meituan.com/" class="website-item" data-keywords="美团" 
                               data-title="美团" data-url="https://www.meituan.com/" 
                               data-desc="本地生活服务平台，提供外卖、到店等综合服务" 
                               data-features="全品类覆盖|新人优惠力度大|会员专属折扣|实时订单追踪" 
                               data-problems="持续扩展服务覆盖区域|高峰期配送可能延迟|优化退款流程">
                                <img src="https://via.placeholder.com/300x150?text=美团" alt="美团" class="website-img">
                                <div class="website-name">美团</div>
                                <div class="website-desc">外卖、到店消费等优惠平台</div>
                            </a>
                            <a href="https://www.pinduoduo.com/" class="website-item" data-keywords="拼多多" 
                               data-title="拼多多" data-url="https://www.pinduoduo.com/" 
                               data-desc="社交电商平台，通过拼团获得更低价格" 
                               data-features="低价正品保障|百亿补贴专区|农场免费领水果|邀请好友得红包" 
                               data-problems="商品质量持续提升中|优化售后服务响应|简化活动规则">
                                <img src="https://via.placeholder.com/300x150?text=拼多多" alt="拼多多" class="website-img">
                                <div class="website-name">拼多多</div>
                                <div class="website-desc">拼团优惠及低价商品平台</div>
                            </a>
                            <a href="https://www.vip.com/" class="website-item" data-keywords="唯品会" 
                               data-title="唯品会" data-url="https://www.vip.com/" 
                               data-desc="品牌特卖电商平台，专注折扣正品销售" 
                               data-features="100%正品保证|超低折扣力度|专业买手精选|限时特卖活动" 
                               data-problems="退换货期限为7天|增加商品库存|加强非自营商品质量管理">
                                <img src="https://via.placeholder.com/300x150?text=唯品会" alt="唯品会" class="website-img">
                                <div class="website-name">唯品会</div>
                                <div class="website-desc">品牌特卖及限时优惠平台</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 学习资源区域 -->
            <section id="learning-section" class="category-section" data-default="true">
                <div class="section-header">
                    <h2 class="section-title">学习资源</h2>
                </div>
                <div class="resource-grid">
                    <div class="category-card" data-module-id="module-10" data-default="true">
                        <button class="favorite-btn" data-module="module-10"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-graduation-cap"></i></div>
                            <h3 class="category-title">学习资源</h3>
                        </div>
                        <div class="website-list">
                            <a href="https://www.khanacademy.org/" class="website-item" data-keywords="可汗学院" 
                               data-title="可汗学院" data-url="https://www.khanacademy.org/" 
                               data-desc="免费在线教育平台，覆盖全学科学习内容" 
                               data-features="K-12全学科覆盖|个性化学习路径|练习与测试系统|多语言支持" 
                               data-problems="优化国内访问速度|增加高级免费课程|扩展中文内容">
                                <img src="https://via.placeholder.com/300x150?text=可汗学院" alt="可汗学院" class="website-img">
                                <div class="website-name">可汗学院</div>
                                <div class="website-desc">提供数学、科学、计算机编程等多学科课程</div>
                            </a>
                            <a href="https://www.ixuexi.cn/" class="website-item" data-keywords="学习强国" 
                               data-title="学习强国" data-url="https://www.ixuexi.cn/" 
                               data-desc="权威政治理论学习平台，涵盖多领域知识" 
                               data-features="官方权威内容|学习积分系统|多终端同步|海量视频课程" 
                               data-problems="实名认证保障安全|国内内容为主|优化界面设计">
                                <img src="https://via.placeholder.com/300x150?text=学习强国" alt="学习强国" class="website-img">
                                <div class="website-name">学习强国</div>
                                <div class="website-desc">涵盖政治、经济、文化等多领域知识学习平台</div>
                            </a>
                            <a href="https://www.zhihu.com/" class="website-item" data-keywords="知乎" 
                               data-title="知乎" data-url="https://www.zhihu.com/" 
                               data-desc="中文互联网高质量问答社区和创作者聚集平台" 
                               data-features="专业领域专家|海量问答内容|知乎Live讲座|盐选专栏" 
                               data-problems="高质量内容需订阅|广告支持平台运营|优化社区氛围">
                                <img src="https://via.placeholder.com/300x150?text=知乎" alt="知乎" class="website-img">
                                <div class="website-name">知乎</div>
                                <div class="website-desc">各类知识问答、经验分享平台</div>
                            </a>
                            <a href="https://www.duolingo.com/" class="website-item" data-keywords="多邻国" 
                               data-title="多邻国" data-url="https://www.duolingo.com/" 
                               data-desc="游戏化语言学习平台，支持40+种语言" 
                               data-features="游戏化学习体验|每日学习提醒|离线学习功能|成就系统激励" 
                               data-problems="高级功能需订阅|免费版含广告|深化课程内容">
                                <img src="https://via.placeholder.com/300x150?text=多邻国" alt="多邻国" class="website-img">
                                <div class="website-name">多邻国</div>
                                <div class="website-desc">轻松学习英语、日语等多种语言</div>
                            </a>
                            <a href="https://www.bilibili.com/" class="website-item" data-keywords="B站学习区" 
                               data-title="B站学习区" data-url="https://www.bilibili.com/" 
                               data-desc="视频学习社区，海量UP主分享专业知识" 
                               data-features="免费学习资源|互动式社区|倍速播放|弹幕交流" 
                               data-problems="提升视频质量|增加免费课程|优化弹幕功能">
                                <img src="https://via.placeholder.com/300x150?text=B站学习区" alt="B站学习区" class="website-img">
                                <div class="website-name">B站学习区</div>
                                <div class="website-desc">海量学习类UP主分享各类知识视频</div>
                            </a>
                            <a href="https://www.edx.org/" class="website-item" data-keywords="edX" 
                               data-title="edX" data-url="https://www.edx.org/" 
                               data-desc="哈佛MIT等名校提供的在线课程平台" 
                               data-features="世界顶级课程|可获取认证证书|灵活学习进度|专业领域深入" 
                               data-problems="证书需要付费|课程时间灵活|优化作业批改速度">
                                <img src="https://via.placeholder.com/300x150?text=edX" alt="edX" class="website-img">
                                <div class="website-name">edX</div>
                                <div class="website-desc">由哈佛、MIT等名校提供的在线课程平台</div>
                            </a>
                            <a href="https://www.csdn.net/" class="website-item" data-keywords="CSDN" 
                               data-title="CSDN" data-url="https://www.csdn.net/" 
                               data-desc="专业IT技术社区，程序员学习交流平台" 
                               data-features="技术文章丰富|问题解答社区|开发工具下载|行业资讯" 
                               data-problems="提升内容质量|减少广告干扰|加强原创保护">
                                <img src="https://via.placeholder.com/300x150?text=CSDN" alt="CSDN" class="website-img">
                                <div class="website-name">CSDN</div>
                                <div class="website-desc">专业的IT技术社区，提供编程学习资源</div>
                            </a>
                            <a href="https://www.imooc.com/" class="website-item" data-keywords="慕课网" 
                               data-title="慕课网" data-url="https://www.imooc.com/" 
                               data-desc="IT技能在线学习平台，专注职业提升" 
                               data-features="实战类课程|学习路径规划|在线编程环境|就业指导" 
                               data-problems="优化课程价格|增加实战项目|加快更新速度">
                                <img src="https://via.placeholder.com/300x150?text=慕课网" alt="慕课网" class="website-img">
                                <div class="website-name">慕课网</div>
                                <div class="website-desc">专注于IT职业技能培训的在线学习平台</div>
                            </a>
                            <a href="https://www.icourse163.org/" class="website-item" data-keywords="中国大学MOOC" 
                               data-title="中国大学MOOC" data-url="https://www.icourse163.org/" 
                               data-desc="国内顶尖高校优质课程共享平台" 
                               data-features="名校名师授课|免费学习资源|官方认证证书|系统化课程" 
                               data-problems="课程时间固定|增加免费证书|增强互动性">
                                <img src="https://via.placeholder.com/300x150?text=中国大学MOOC" alt="中国大学MOOC" class="website-img">
                                <div class="website-name">中国大学MOOC</div>
                                <div class="website-desc">提供国内顶尖高校的优质课程</div>
                            </a>
                            <a href="https://www.lingq.com/" class="website-item" data-keywords="LingQ" 
                               data-title="LingQ" data-url="https://www.lingq.com/" 
                               data-desc="通过阅读文章学习多种语言的平台" 
                               data-features="多语言学习|真实语境材料|词汇追踪系统|社区交流" 
                               data-problems="高级功能需订阅|扩展中文资源|优化学习曲线">
                                <img src="https://via.placeholder.com/300x150?text=LingQ" alt="LingQ" class="website-img">
                                <div class="website-name">LingQ</div>
                                <div class="website-desc">通过阅读文章学习多种语言</div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="footer">
            <p>© 2023 巳泷资源库 - 所有资源仅供学习交流使用</p>
        </footer>
    </div>
    
    <!-- 返回顶部按钮 -->
    <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>

<script>
    // 存储收藏和浏览记录的本地存储键名
    const STORAGE_KEYS = {
        FAVORITES: 'resource_favorites',
        HISTORY: 'resource_history',
        CUSTOM_SETTINGS: 'resource_custom_settings',
        USER_CATEGORIES: 'resource_user_categories',
        USER_MODULES: 'resource_user_modules',
        USER_WEBSITES: 'resource_user_websites'
    };

    // 当前编辑项的ID
    let currentEditItemId = null;
    let currentEditItemType = null;
    let currentCropType = null;
    
    // 全局自定义设置
    let customSettings = {
        primaryColor: '#8e44ad',
        secondaryColor: '#9b59b6',
        accentColor: '#b393d3',
        textColor: '#ffffff',
        textSize: '1rem',
        textFont: "'Segoe UI', system-ui, -apple-system, sans-serif",
        moduleBgColor: '#28283c',
        moduleOpacity: 0.7,
        moduleBorder: 'solid',
        btnBgColor: '#8e44ad',
        btnTextColor: '#ffffff',
        btnRadius: 25,
        bgImageLandscape: 'https://silong-baoku.github.io/zyk/bjt2.jpg',
        bgImagePortrait: 'https://silong-baoku.github.io/zyk/bjt1.jpg',
        hue: 0,
        opacity: 100,
        blur: 0
    };

    // 显示成功提示
    function showSuccessMessage(message) {
        const successMsg = document.getElementById('success-message');
        successMsg.textContent = message;
        successMsg.style.display = 'block';
        
        setTimeout(() => {
            successMsg.style.display = 'none';
        }, 3000);
    }

    // 搜索功能实现
    document.getElementById('site-search-btn').addEventListener('click', function() {
        const query = document.getElementById('site-search').value.trim();
        if (query) {
            document.getElementById('search-options-modal').style.display = 'block';
        }
    });

    // 搜索选项点击事件
    document.querySelectorAll('.search-engine-option').forEach(option => {
        option.addEventListener('click', function() {
            const query = document.getElementById('site-search').value.trim();
            if (!query) return;

            const type = this.dataset.type;
            if (type === 'site') {
                // 站内搜索
                const results = searchSite(query);
                if (results.length > 0) {
                    // 滚动到第一个匹配项
                    const firstResult = results[0];
                    firstResult.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // 高亮显示匹配项
                    highlightResults(results);
                } else {
                    alert('未找到匹配结果');
                }
            } else {
                // 外部搜索引擎
                let engineUrl;
                switch(type) {
                    case 'baidu':
                        engineUrl = 'https://www.baidu.com/s?wd=';
                        break;
                    case 'google':
                        engineUrl = 'https://www.google.com/search?q=';
                        break;
                    case 'bing':
                        engineUrl = 'https://www.bing.com/search?q=';
                        break;
                    default:
                        engineUrl = 'https://www.google.com/search?q=';
                }
                
                showLoader();
                setTimeout(() => {
                    window.open(engineUrl + encodeURIComponent(query));
                    hideLoader();
                }, 500);
            }
            
            // 隐藏搜索选项
            document.getElementById('search-options-modal').style.display = 'none';
        });
    });

    // 站内搜索函数
    function searchSite(query) {
        const results = [];
        const searchItems = document.querySelectorAll('[data-keywords]');
        
        searchItems.forEach(item => {
            const keywords = item.dataset.keywords.toLowerCase();
            if (keywords.includes(query.toLowerCase())) {
                results.push(item);
            }
        });
        
        return results;
    }

    // 高亮显示搜索结果
    function highlightResults(results) {
        // 先移除之前的高亮
        document.querySelectorAll('.highlight').forEach(el => {
            el.classList.remove('highlight');
        });
        
        // 添加新的高亮
        results.forEach(item => {
            item.classList.add('highlight');
            setTimeout(() => {
                item.classList.remove('highlight');
            }, 3000);
        });
    }

    // 点击文档其他位置隐藏搜索选项
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.search-box') && !e.target.closest('.modal-content')) {
            document.getElementById('search-options-modal').style.display = 'none';
        }
    });

    // 菜单按钮点击事件
    document.getElementById('menu-btn').addEventListener('click', function() {
        document.getElementById('sidebar').classList.toggle('active');
    });

    // 窗口大小改变时检查侧边栏状态
    window.addEventListener('resize', function() {
        const sidebar = document.getElementById('sidebar');
        if (window.innerWidth > 768 && window.matchMedia("(orientation: landscape)").matches) {
            // 横屏且宽度大于768px时显示侧边栏
            sidebar.classList.add('active');
        } else {
            // 其他情况隐藏侧边栏
            sidebar.classList.remove('active');
        }
    });

    // 初始化侧边栏状态
    function initSidebar() {
        const sidebar = document.getElementById('sidebar');
        if (window.innerWidth > 768 && window.matchMedia("(orientation: landscape)").matches) {
            sidebar.classList.add('active');
        } else {
            sidebar.classList.remove('active');
        }
    }

    // 收藏功能
    document.querySelectorAll('.favorite-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            const moduleId = this.dataset.module;
            toggleFavorite(moduleId, this);
        });
    });

    // 切换收藏状态
    function toggleFavorite(moduleId, btn) {
        const favorites = getFavorites();
        const index = favorites.indexOf(moduleId);
        
        if (index === -1) {
            // 添加到收藏
            favorites.push(moduleId);
            btn.innerHTML = '<i class="fas fa-star"></i>';
            btn.classList.add('favorited');
            showSuccessMessage('已添加到收藏');
        } else {
            // 从收藏移除
            favorites.splice(index, 1);
            btn.innerHTML = '<i class="far fa-star"></i>';
            btn.classList.remove('favorited');
            showSuccessMessage('已从收藏移除');
        }
        
        // 保存到本地存储
        localStorage.setItem(STORAGE_KEYS.FAVORITES, JSON.stringify(favorites));
    }

    // 获取收藏列表
    function getFavorites() {
        const favoritesJson = localStorage.getItem(STORAGE_KEYS.FAVORITES);
        return favoritesJson ? JSON.parse(favoritesJson) : [];
    }

    // 初始化收藏按钮状态
    function initFavoriteButtons() {
        const favorites = getFavorites();
        document.querySelectorAll('.favorite-btn').forEach(btn => {
            const moduleId = btn.dataset.module;
            if (favorites.includes(moduleId)) {
                btn.innerHTML = '<i class="fas fa-star"></i>';
                btn.classList.add('favorited');
            } else {
                btn.innerHTML = '<i class="far fa-star"></i>';
                btn.classList.remove('favorited');
            }
        });
    }

    // 收藏按钮点击事件
    document.getElementById('favorites-btn').addEventListener('click', function(e) {
        e.preventDefault();
        showFavoritesModal();
    });

    // 显示收藏模态框
    function showFavoritesModal() {
        const favorites = getFavorites();
        const container = document.getElementById('favorites-container');
        container.innerHTML = '';
        
        if (favorites.length === 0) {
            container.innerHTML = '<p style="text-align: center; padding: 20px;">暂无收藏</p>';
        } else {
            favorites.forEach(moduleId => {
                const module = document.querySelector(`[data-module-id="${moduleId}"]`);
                if (module) {
                    const clone = module.cloneNode(true);
                    // 移除收藏按钮
                    const btn = clone.querySelector('.favorite-btn');
                    if (btn) btn.remove();
                    
                    // 添加点击事件
                    clone.addEventListener('click', function() {
                        const firstLink = this.querySelector('.website-item');
                        if (firstLink) {
                            showLoader();
                            setTimeout(() => {
                                window.location.href = firstLink.href;
                            }, 500);
                        }
                    });
                    
                    container.appendChild(clone);
                }
            });
        }
        
        // 显示模态框
        document.getElementById('favorites-modal').style.display = 'block';
    }

    // 浏览记录功能
    function addToHistory(url, title) {
        let history = getHistory();
        
        // 如果已经存在，则移除旧的记录
        history = history.filter(item => item.url !== url);
        
        // 添加到记录开头
        history.unshift({ url, title, timestamp: Date.now() });
        
        // 只保留最近的20条记录
        if (history.length > 20) {
            history = history.slice(0, 20);
        }
        
        // 保存到本地存储
        localStorage.setItem(STORAGE_KEYS.HISTORY, JSON.stringify(history));
    }

    // 获取浏览记录
    function getHistory() {
        const historyJson = localStorage.getItem(STORAGE_KEYS.HISTORY);
        return historyJson ? JSON.parse(historyJson) : [];
    }

    // 历史记录按钮点击事件
    document.getElementById('history-btn').addEventListener('click', function(e) {
        e.preventDefault();
        showHistoryModal();
    });

    // 显示历史记录模态框
    function showHistoryModal() {
        const history = getHistory();
        const container = document.getElementById('history-container');
        container.innerHTML = '';
        
        if (history.length === 0) {
            container.innerHTML = '<p style="text-align: center; padding: 20px;">暂无浏览记录</p>';
        } else {
            history.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.style.padding = '10px';
                historyItem.style.borderBottom = '1px solid rgba(255,255,255,0.1)';
                historyItem.style.cursor = 'pointer';
                
                historyItem.innerHTML = `
                    <div style="font-weight: bold;">${item.title || '无标题'}</div>
                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.7);">${new Date(item.timestamp).toLocaleString()}</div>
                `;
                
                historyItem.addEventListener('click', function() {
                    showLoader();
                    setTimeout(() => {
                        window.location.href = item.url;
                    }, 500);
                });
                
                container.appendChild(historyItem);
            });
        }
        
        // 显示模态框
        document.getElementById('history-modal').style.display = 'block';
    }

    // 管理按钮点击事件
    document.getElementById('manage-btn').addEventListener('click', function(e) {
        e.preventDefault();
        showManageModal();
    });

    // 显示管理模态框
    function showManageModal() {
        const manageType = document.getElementById('manage-type');
        updateManageContent(manageType.value);
        
        // 显示模态框
        document.getElementById('manage-modal').style.display = 'block';
    }

    // 更新管理内容
    function updateManageContent(type) {
        const container = document.getElementById('manage-content');
        container.innerHTML = '';
        
        switch(type) {
            case 'categories':
                // 分类管理 - 卡片形式
                container.innerHTML = '<h3 style="margin-bottom: 15px; color: var(--accent-color);">分类管理</h3>';
                
                const sections = document.querySelectorAll('.category-section');
                
                sections.forEach(section => {
                    const sectionTitle = section.querySelector('.section-title').textContent;
                    const isDefault = section.hasAttribute('data-default');
                    
                    const card = document.createElement('div');
                    card.className = `manage-card ${isDefault ? 'default-item' : ''}`;
                    card.innerHTML = `
                        <div class="manage-card-title">${sectionTitle}
                            ${isDefault ? '<i class="fas fa-lock lock-icon"></i>' : ''}
                        </div>
                        <div class="manage-card-actions">
                            <button class="manage-card-btn edit" data-section-id="${section.id}" ${isDefault ? 'disabled' : ''}>编辑</button>
                            <button class="manage-card-btn delete" data-section-id="${section.id}" ${isDefault ? 'disabled' : ''}>删除</button>
                        </div>
                    `;
                    
                    container.appendChild(card);
                    
                    // 编辑按钮事件
                    if (!isDefault) {
                        card.querySelector('.edit').addEventListener('click', function() {
                            const sectionId = this.dataset.sectionId;
                            editCategory(sectionId);
                        });
                        
                        // 删除按钮事件
                        card.querySelector('.delete').addEventListener('click', function() {
                            const sectionId = this.dataset.sectionId;
                            const sectionTitle = this.closest('.manage-card').querySelector('.manage-card-title').textContent;
                            
                            showDeleteConfirmModal('分类', sectionTitle, sectionId, 'category');
                        });
                    }
                });
                
                // 添加新分类按钮
                const addCategoryBtn = document.createElement('button');
                addCategoryBtn.className = 'btn';
                addCategoryBtn.textContent = '添加新分类';
                addCategoryBtn.style.marginTop = '15px';
                addCategoryBtn.addEventListener('click', function() {
                    document.getElementById('manage-modal').style.display = 'none';
                    document.getElementById('add-category-modal').style.display = 'block';
                    updateCategorySelects();
                });
                
                container.appendChild(addCategoryBtn);
                break;
                
            case 'modules':
                // 模块管理 - 卡片形式
                container.innerHTML = '<h3 style="margin-bottom: 15px; color: var(--accent-color);">模块管理</h3>';
                
                const modules = document.querySelectorAll('.category-card');
                
                modules.forEach(module => {
                    const moduleTitle = module.querySelector('.category-title').textContent;
                    const moduleId = module.dataset.moduleId;
                    const isDefault = module.hasAttribute('data-default');
                    
                    const card = document.createElement('div');
                    card.className = `manage-card ${isDefault ? 'default-item' : ''}`;
                    card.innerHTML = `
                        <div class="manage-card-title">${moduleTitle}
                            ${isDefault ? '<i class="fas fa-lock lock-icon"></i>' : ''}
                        </div>
                        <div class="manage-card-actions">
                            <button class="manage-card-btn edit" data-module-id="${moduleId}" ${isDefault ? 'disabled' : ''}>编辑</button>
                            <button class="manage-card-btn delete" data-module-id="${moduleId}" ${isDefault ? 'disabled' : ''}>删除</button>
                        </div>
                    `;
                    
                    container.appendChild(card);
                    
                    // 编辑按钮事件
                    if (!isDefault) {
                        card.querySelector('.edit').addEventListener('click', function() {
                            const moduleId = this.dataset.moduleId;
                            editModule(moduleId);
                        });
                        
                        // 删除按钮事件
                        card.querySelector('.delete').addEventListener('click', function() {
                            const moduleId = this.dataset.moduleId;
                            const moduleTitle = this.closest('.manage-card').querySelector('.manage-card-title').textContent;
                            
                            showDeleteConfirmModal('模块', moduleTitle, moduleId, 'module');
                        });
                    }
                });
                
                // 添加新模块按钮
                const addModuleBtn = document.createElement('button');
                addModuleBtn.className = 'btn';
                addModuleBtn.textContent = '添加新模块';
                addModuleBtn.style.marginTop = '15px';
                addModuleBtn.addEventListener('click', function() {
                    document.getElementById('manage-modal').style.display = 'none';
                    document.getElementById('add-module-modal').style.display = 'block';
                    updateCategorySelects();
                });
                
                container.appendChild(addModuleBtn);
                break;
                
            case 'websites':
                // 网站管理 - 卡片形式
                container.innerHTML = `
                    <h3 style="margin-bottom: 15px; color: var(--accent-color);">网站管理</h3>
                    <div class="form-group">
                        <label for="website-module-select">选择模块:</label>
                        <select id="website-module-select" class="form-control"></select>
                    </div>
                    <div id="websites-list" style="margin-top: 15px;"></div>
                `;
                
                // 填充模块选择框
                const moduleSelect = document.getElementById('website-module-select');
                document.querySelectorAll('.category-card').forEach(module => {
                    const option = document.createElement('option');
                    option.value = module.dataset.moduleId;
                    option.textContent = module.querySelector('.category-title').textContent;
                    moduleSelect.appendChild(option);
                });
                
                // 模块选择变化时更新网站列表
                moduleSelect.addEventListener('change', function() {
                    updateWebsiteList(this.value);
                });
                
                // 初始加载第一个模块的网站列表
                if (moduleSelect.options.length > 0) {
                    updateWebsiteList(moduleSelect.value);
                }
                
                // 添加新网站按钮
                const addWebsiteBtn = document.createElement('button');
                addWebsiteBtn.className = 'btn';
                addWebsiteBtn.textContent = '添加新网站';
                addWebsiteBtn.style.marginTop = '15px';
                addWebsiteBtn.addEventListener('click', function() {
                    document.getElementById('manage-modal').style.display = 'none';
                    document.getElementById('add-website-modal').style.display = 'block';
                    updateModuleSelect();
                });
                
                container.appendChild(addWebsiteBtn);
                break;
        }
    }

    // 更新网站列表
    function updateWebsiteList(moduleId) {
        const websitesList = document.getElementById('websites-list');
        websitesList.innerHTML = '';
        
        const module = document.querySelector(`[data-module-id="${moduleId}"]`);
        if (!module) return;
        
        const websites = module.querySelectorAll('.website-item');
        if (websites.length === 0) {
            websitesList.innerHTML = '<p style="text-align: center; padding: 20px;">该模块暂无网站</p>';
            return;
        }
        
        websites.forEach(website => {
            // 为每个网站添加唯一ID
            if (!website.dataset.websiteId) {
                website.dataset.websiteId = 'website-' + Math.random().toString(36).substr(2, 9);
            }
            
            const websiteName = website.querySelector('.website-name').textContent;
            const isDefault = website.closest('[data-default]');
            
            const card = document.createElement('div');
            card.className = `manage-card ${isDefault ? 'default-item' : ''}`;
            card.innerHTML = `
                <div class="manage-card-title">${websiteName}
                    ${isDefault ? '<i class="fas fa-lock lock-icon"></i>' : ''}
                </div>
                <div class="manage-card-actions">
                    <button class="manage-card-btn edit" data-website-id="${website.dataset.websiteId}" ${isDefault ? 'disabled' : ''}>编辑</button>
                    <button class="manage-card-btn delete" data-website-id="${website.dataset.websiteId}" ${isDefault ? 'disabled' : ''}>删除</button>
                </div>
            `;
            
            websitesList.appendChild(card);
            
            // 编辑按钮事件
            if (!isDefault) {
                card.querySelector('.edit').addEventListener('click', function() {
                    const websiteId = this.dataset.websiteId;
                    editWebsite(websiteId);
                });
                
                // 删除按钮事件
                card.querySelector('.delete').addEventListener('click', function() {
                    const websiteId = this.dataset.websiteId;
                    const websiteName = this.closest('.manage-card').querySelector('.manage-card-title').textContent;
                    
                    showDeleteConfirmModal('网站', websiteName, websiteId, 'website');
                });
            }
        });
    }

    // 编辑分类
    function editCategory(sectionId) {
        const section = document.getElementById(sectionId);
        if (!section) return;
        
        currentEditItemId = sectionId;
        currentEditItemType = 'category';
        
        const sectionTitle = section.querySelector('.section-title').textContent;
        
        // 填充编辑表单
        document.getElementById('edit-category-name').value = sectionTitle;
        
        // 显示编辑模态框
        document.getElementById('edit-category-modal').style.display = 'block';
    }

    // 编辑模块
    function editModule(moduleId) {
        const module = document.querySelector(`[data-module-id="${moduleId}"]`);
        if (!module) return;
        
        currentEditItemId = moduleId;
        currentEditItemType = 'module';
        
        const moduleTitle = module.querySelector('.category-title').textContent;
        const moduleIcon = module.querySelector('.category-icon i').className;
        
        // 填充编辑表单
        document.getElementById('edit-module-title').value = moduleTitle;
        document.getElementById('edit-module-icon').value = moduleIcon.replace('fas ', '');
        
        // 显示编辑模态框
        document.getElementById('edit-module-modal').style.display = 'block';
    }

    // 编辑网站
    function editWebsite(websiteId) {
        const website = document.querySelector(`[data-website-id="${websiteId}"]`);
        if (!website) return;
        
        currentEditItemId = websiteId;
        currentEditItemType = 'website';
        
        const websiteName = website.querySelector('.website-name').textContent;
        const websiteDesc = website.querySelector('.website-desc').textContent;
        const websiteUrl = website.href;
        const websiteKeywords = website.dataset.keywords;
        const websiteImage = website.querySelector('.website-img').src;
        
        // 填充编辑表单
        document.getElementById('edit-website-name').value = websiteName;
        document.getElementById('edit-website-url').value = websiteUrl;
        document.getElementById('edit-website-desc').value = websiteDesc;
        document.getElementById('edit-website-keywords').value = websiteKeywords;
        document.getElementById('edit-website-image').value = websiteImage;
        document.getElementById('edit-website-image-preview').src = websiteImage;
        document.getElementById('edit-website-image-preview').style.display = websiteImage ? 'block' : 'none';
        
        // 显示编辑模态框
        document.getElementById('edit-website-modal').style.display = 'block';
    }

    // 显示删除确认模态框
    function showDeleteConfirmModal(type, name, id, itemType) {
        currentEditItemId = id;
        currentEditItemType = itemType;
        
        document.getElementById('delete-confirm-message').textContent = `您确定要删除${type} "${name}" 吗？`;
        document.getElementById('delete-confirm-modal').style.display = 'block';
    }

    // 管理类型切换事件
    document.getElementById('manage-type').addEventListener('change', function() {
        updateManageContent(this.value);
    });

    // 处理所有外部链接点击事件
    document.querySelectorAll('a[href^="http"]').forEach(link => {
        if (!link.classList.contains('no-loader') && !link.closest('.nav-links')) {
            link.addEventListener('click', function(e) {
                // 排除导航链接和模态框链接
                if (!this.closest('.nav-links') && !this.closest('.modal-content')) {
                    e.preventDefault();
                    const title = this.querySelector('.website-name')?.textContent || '未知网站';
                    const url = this.href;
                    
                    // 添加到浏览记录
                    addToHistory(url, title);
                    
                    // 显示加载动画并跳转
                    showLoader();
                    setTimeout(() => {
                        window.location.href = url;
                    }, 500);
                }
            });
        }
    });

    // 显示加载动画
    function showLoader() {
        const loader = document.getElementById('loader');
        loader.classList.add('active');
    }

    // 隐藏加载动画
    function hideLoader() {
        const loader = document.getElementById('loader');
        loader.classList.remove('active');
    }

    // 模态框控制
    const modals = {
        'add-category': document.getElementById('add-category-modal'),
        'add-module': document.getElementById('add-module-modal'),
        'add-website': document.getElementById('add-website-modal'),
        'search-options': document.getElementById('search-options-modal'),
        'customize': document.getElementById('customize-modal'),
        'favorites': document.getElementById('favorites-modal'),
        'history': document.getElementById('history-modal'),
        'manage': document.getElementById('manage-modal'),
        'edit-category': document.getElementById('edit-category-modal'),
        'edit-module': document.getElementById('edit-module-modal'),
        'edit-website': document.getElementById('edit-website-modal'),
        'delete-confirm': document.getElementById('delete-confirm-modal')
    };

    // 打开模态框
    function openModal(modalId) {
        modals[modalId].style.display = 'block';
    }

    // 关闭模态框
    function closeModal(modalId) {
        modals[modalId].style.display = 'none';
    }

    // 点击关闭按钮关闭模态框
    document.querySelectorAll('.close, .close-detail-modal, .btn-close-detail').forEach(closeBtn => {
        closeBtn.addEventListener('click', function() {
            const modal = this.closest('.modal');
            modal.style.display = 'none';
        });
    });

    // 点击模态框外部关闭
    window.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal')) {
            e.target.style.display = 'none';
        }
    });

    // 点击取消按钮关闭模态框
    document.querySelectorAll('.close-modal-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const modal = this.closest('.modal');
            modal.style.display = 'none';
        });
    });

    // 添加按钮功能
    document.getElementById('add-category-btn').addEventListener('click', function(e) {
        e.preventDefault();
        updateCategorySelects(); // 更新分类选择下拉框
        openModal('add-category');
    });

    // 添加模块按钮
    document.getElementById('add-module-btn').addEventListener('click', function(e) {
        e.preventDefault();
        updateCategorySelects(); // 更新分类选择下拉框
        openModal('add-module');
    });

    // 添加网站按钮
    document.getElementById('add-website-btn').addEventListener('click', function(e) {
        e.preventDefault();
        updateModuleSelect(); // 更新模块选择下拉框
        openModal('add-website');
    });

    // 更新模块选择下拉框
    function updateModuleSelect() {
        const moduleSelect = document.getElementById('website-module');
        moduleSelect.innerHTML = ''; // 清空现有选项
        
        // 获取所有模块
        const modules = document.querySelectorAll('.category-card');
        modules.forEach(module => {
            const moduleId = module.dataset.moduleId;
            const moduleTitle = module.querySelector('.category-title').textContent;
            
            const option = document.createElement('option');
            option.value = moduleId;
            option.textContent = moduleTitle;
            moduleSelect.appendChild(option);
        });
    }
    
    // 更新所有分类选择下拉框
    function updateCategorySelects() {
        // 更新添加模块表单中的分类选择
        const moduleCategorySelect = document.getElementById('module-category');
        moduleCategorySelect.innerHTML = '';
        
        // 更新添加分类表单中的现有分类选择
        const existingCategorySelect = document.getElementById('existing-category');
        existingCategorySelect.innerHTML = '';
        
        // 获取所有分类
        const sections = document.querySelectorAll('.category-section');
        sections.forEach(section => {
            const sectionId = section.id;
            const sectionTitle = section.querySelector('.section-title').textContent;
            
            // 添加到添加模块表单
            const moduleOption = document.createElement('option');
            moduleOption.value = sectionId;
            moduleOption.textContent = sectionTitle;
            moduleCategorySelect.appendChild(moduleOption);
            
            // 添加到添加分类表单
            const categoryOption = document.createElement('option');
            categoryOption.value = sectionId;
            categoryOption.textContent = sectionTitle;
            existingCategorySelect.appendChild(categoryOption);
        });
    }

    // 图片上传处理
    document.getElementById('website-image-upload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
            const preview = document.getElementById('website-image-preview');
            preview.src = event.target.result;
            preview.style.display = 'block';
            document.getElementById('website-image').value = event.target.result;
        };
        reader.readAsDataURL(file);
    });

    // 编辑网站图片上传处理
    document.getElementById('edit-website-image-upload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
            const preview = document.getElementById('edit-website-image-preview');
            preview.src = event.target.result;
            preview.style.display = 'block';
            document.getElementById('edit-website-image').value = event.target.result;
        };
        reader.readAsDataURL(file);
    });

    // 背景图片上传处理
    document.getElementById('bg-image-landscape-upload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
            const preview = document.getElementById('bg-image-landscape-preview');
            preview.src = event.target.result;
            preview.style.display = 'block';
            
            // 显示裁剪区域
            document.getElementById('crop-container-landscape').style.display = 'block';
            document.getElementById('crop-controls-landscape').style.display = 'flex';
            document.getElementById('crop-image-landscape').src = event.target.result;
            currentCropType = 'landscape';
        };
        reader.readAsDataURL(file);
    });

    document.getElementById('bg-image-portrait-upload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
            const preview = document.getElementById('bg-image-portrait-preview');
            preview.src = event.target.result;
            preview.style.display = 'block';
            
            // 显示裁剪区域
            document.getElementById('crop-container-portrait').style.display = 'block';
            document.getElementById('crop-controls-portrait').style.display = 'flex';
            document.getElementById('crop-image-portrait').src = event.target.result;
            currentCropType = 'portrait';
        };
        reader.readAsDataURL(file);
    });

    // 取消裁剪
    document.getElementById('crop-cancel-landscape').addEventListener('click', function() {
        document.getElementById('crop-container-landscape').style.display = 'none';
        document.getElementById('crop-controls-landscape').style.display = 'none';
        document.getElementById('bg-image-landscape-preview').style.display = 'none';
    });
    
    document.getElementById('crop-cancel-portrait').addEventListener('click', function() {
        document.getElementById('crop-container-portrait').style.display = 'none';
        document.getElementById('crop-controls-portrait').style.display = 'none';
        document.getElementById('bg-image-portrait-preview').style.display = 'none';
    });

    // 确认裁剪
    document.getElementById('crop-confirm-landscape').addEventListener('click', function() {
        // 这里简化处理，实际应用中应该使用Canvas进行裁剪
        const imageUrl = document.getElementById('crop-image-landscape').src;
        customSettings.bgImageLandscape = imageUrl;
        document.documentElement.style.setProperty('--bg-image-landscape', `url(${imageUrl})`);
        document.getElementById('crop-container-landscape').style.display = 'none';
        document.getElementById('crop-controls-landscape').style.display = 'none';
        showSuccessMessage('横屏背景图已裁剪并应用');
    });
    
    document.getElementById('crop-confirm-portrait').addEventListener('click', function() {
        // 这里简化处理，实际应用中应该使用Canvas进行裁剪
        const imageUrl = document.getElementById('crop-image-portrait').src;
        customSettings.bgImagePortrait = imageUrl;
        document.documentElement.style.setProperty('--bg-image-portrait', `url(${imageUrl})`);
        document.getElementById('crop-container-portrait').style.display = 'none';
        document.getElementById('crop-controls-portrait').style.display = 'none';
        showSuccessMessage('竖屏背景图已裁剪并应用');
    });

    // 自定义编辑按钮
    document.querySelectorAll('.edit-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const form = this.previousElementSibling;
            if (form.style.display === 'block') {
                form.style.display = 'none';
                this.textContent = '编辑';
            } else {
                form.style.display = 'block';
                this.textContent = '收起';
            }
        });
    });

    // 保存用户添加的项目
    function saveUserItems() {
        // 只保存用户添加的内容，不包括默认内容
        const userCategories = [];
        const userModules = [];
        const userWebsites = [];
        
        // 收集用户添加的分类
        document.querySelectorAll('.category-section').forEach(section => {
            if (!section.hasAttribute('data-default')) {
                userCategories.push({
                    id: section.id,
                    title: section.querySelector('.section-title').textContent
                });
            }
        });
        
        // 收集用户添加的模块
        document.querySelectorAll('.category-card').forEach(module => {
            if (!module.hasAttribute('data-default')) {
                userModules.push({
                    id: module.dataset.moduleId,
                    title: module.querySelector('.category-title').textContent,
                    icon: module.querySelector('.category-icon i').className,
                    category: module.closest('.category-section').id
                });
            }
        });
        
        // 收集用户添加的网站
        document.querySelectorAll('.website-item').forEach(website => {
            if (!website.closest('[data-default]')) {
                userWebsites.push({
                    id: website.dataset.websiteId || '',
                    name: website.querySelector('.website-name').textContent,
                    url: website.href,
                    desc: website.querySelector('.website-desc').textContent,
                    keywords: website.dataset.keywords || '',
                    image: website.querySelector('.website-img').src,
                    module: website.closest('.category-card').dataset.moduleId
                });
            }
        });
        
        localStorage.setItem(STORAGE_KEYS.USER_CATEGORIES, JSON.stringify(userCategories));
        localStorage.setItem(STORAGE_KEYS.USER_MODULES, JSON.stringify(userModules));
        localStorage.setItem(STORAGE_KEYS.USER_WEBSITES, JSON.stringify(userWebsites));
    }

    // 加载用户添加的项目
    function loadUserItems() {
        // 加载用户添加的分类
        const userCategoriesJson = localStorage.getItem(STORAGE_KEYS.USER_CATEGORIES);
        if (userCategoriesJson) {
            const userCategories = JSON.parse(userCategoriesJson);
            userCategories.forEach(category => {
                const section = document.createElement('section');
                section.id = category.id;
                section.className = 'category-section';
                section.innerHTML = `
                    <div class="section-header">
                        <h2 class="section-title">${category.title}</h2>
                    </div>
                    <div class="resource-grid"></div>
                `;
                
                document.querySelector('.main-content').appendChild(section);
            });
        }
        
        // 加载用户添加的模块
        const userModulesJson = localStorage.getItem(STORAGE_KEYS.USER_MODULES);
        if (userModulesJson) {
            const userModules = JSON.parse(userModulesJson);
            userModules.forEach(module => {
                const categorySection = document.getElementById(module.category);
                if (categorySection) {
                    const resourceGrid = categorySection.querySelector('.resource-grid');
                    if (resourceGrid) {
                        const moduleElement = document.createElement('div');
                        moduleElement.className = 'category-card';
                        moduleElement.dataset.moduleId = module.id;
                        moduleElement.innerHTML = `
                            <button class="favorite-btn" data-module="${module.id}"><i class="far fa-star"></i></button>
                            <div class="category-header">
                                <div class="category-icon"><i class="${module.icon}"></i></div>
                                <h3 class="category-title">${module.title}</h3>
                            </div>
                            <div class="website-list"></div>
                        `;
                        
                        resourceGrid.appendChild(moduleElement);
                    }
                }
            });
        }
        
        // 加载用户添加的网站
        const userWebsitesJson = localStorage.getItem(STORAGE_KEYS.USER_WEBSITES);
        if (userWebsitesJson) {
            const userWebsites = JSON.parse(userWebsitesJson);
            userWebsites.forEach(website => {
                const moduleElement = document.querySelector(`[data-module-id="${website.module}"]`);
                if (moduleElement) {
                    const websiteList = moduleElement.querySelector('.website-list');
                    if (websiteList) {
                        const websiteElement = document.createElement('a');
                        websiteElement.className = 'website-item';
                        websiteElement.href = website.url;
                        websiteElement.dataset.keywords = website.keywords;
                        if (website.id) websiteElement.dataset.websiteId = website.id;
                        websiteElement.innerHTML = `
                            <img src="${website.image}" alt="${website.name}" class="website-img">
                            <div class="website-name">${website.name}</div>
                            <div class="website-desc">${website.desc}</div>
                        `;
                        
                        websiteList.appendChild(websiteElement);
                    }
                }
            });
        }
    }

    // 添加分类确认
    document.getElementById('confirm-add-category').addEventListener('click', function() {
        const type = document.getElementById('category-type').value;
        
        if (type === 'existing') {
            const categoryId = document.getElementById('existing-category').value;
            const categorySection = document.getElementById(categoryId);
            if (categorySection) {
                categorySection.scrollIntoView({ behavior: 'smooth' });
                categorySection.classList.add('highlight');
                setTimeout(() => {
                    categorySection.classList.remove('highlight');
                }, 2000);
            }
        } else {
            const name = document.getElementById('new-category-name').value.trim();
            const id = document.getElementById('new-category-id').value.trim();
            
            if (name && id) {
                if (document.getElementById(id)) {
                    alert('该分类ID已存在，请使用其他ID');
                    return;
                }
                
                const section = document.createElement('section');
                section.id = id;
                section.className = 'category-section';
                section.innerHTML = `
                    <div class="section-header">
                        <h2 class="section-title">${name}</h2>
                    </div>
                    <div class="resource-grid"></div>
                `;
                
                document.querySelector('.main-content').appendChild(section);
                saveUserItems();
                showSuccessMessage('分类添加成功');
                
                // 滚动到新添加的分类
                section.scrollIntoView({ behavior: 'smooth' });
                section.classList.add('highlight');
                setTimeout(() => {
                    section.classList.remove('highlight');
                }, 2000);
            } else {
                alert('请填写完整的分类信息');
                return;
            }
        }
        
        closeModal('add-category');
    });

    // 添加模块确认
    document.getElementById('confirm-add-module').addEventListener('click', function() {
        const title = document.getElementById('module-title').value.trim();
        const icon = document.getElementById('module-icon').value;
        const categoryId = document.getElementById('module-category').value;
        
        if (title && icon && categoryId) {
            const categorySection = document.getElementById(categoryId);
            if (categorySection) {
                const resourceGrid = categorySection.querySelector('.resource-grid');
                if (resourceGrid) {
                    const moduleId = 'module-' + Date.now();
                    
                    const moduleElement = document.createElement('div');
                    moduleElement.className = 'category-card';
                    moduleElement.dataset.moduleId = moduleId;
                    moduleElement.innerHTML = `
                        <button class="favorite-btn" data-module="${moduleId}"><i class="far fa-star"></i></button>
                        <div class="category-header">
                            <div class="category-icon"><i class="fas ${icon}"></i></div>
                            <h3 class="category-title">${title}</h3>
                        </div>
                        <div class="website-list"></div>
                    `;
                    
                    resourceGrid.appendChild(moduleElement);
                    saveUserItems();
                    showSuccessMessage('模块添加成功');
                    
                    // 滚动到新添加的模块
                    moduleElement.scrollIntoView({ behavior: 'smooth' });
                    moduleElement.classList.add('highlight');
                    setTimeout(() => {
                        moduleElement.classList.remove('highlight');
                    }, 2000);
                }
            }
        } else {
            alert('请填写完整的模块信息');
            return;
        }
        
        closeModal('add-module');
    });

    // 添加网站确认
    document.getElementById('confirm-add-website').addEventListener('click', function() {
        const name = document.getElementById('website-name').value.trim();
        const url = document.getElementById('website-url').value.trim();
        const desc = document.getElementById('website-desc').value.trim();
        const keywords = document.getElementById('website-keywords').value.trim();
        const image = document.getElementById('website-image').value || 'https://via.placeholder.com/300x150?text=No+Image';
        const moduleId = document.getElementById('website-module').value;
        
        if (name && url && desc && keywords && moduleId) {
            const module = document.querySelector(`[data-module-id="${moduleId}"]`);
            if (module) {
                const websiteList = module.querySelector('.website-list');
                if (websiteList) {
                    const websiteId = 'website-' + Date.now();
                    
                    const websiteElement = document.createElement('a');
                    websiteElement.className = 'website-item';
                    websiteElement.href = url;
                    websiteElement.dataset.keywords = keywords;
                    websiteElement.dataset.websiteId = websiteId;
                    websiteElement.innerHTML = `
                        <img src="${image}" alt="${name}" class="website-img">
                        <div class="website-name">${name}</div>
                        <div class="website-desc">${desc}</div>
                    `;
                    
                    websiteList.appendChild(websiteElement);
                    saveUserItems();
                    showSuccessMessage('网站添加成功');
                    
                    // 滚动到新添加的网站
                    websiteElement.scrollIntoView({ behavior: 'smooth' });
                    websiteElement.classList.add('highlight');
                    setTimeout(() => {
                        websiteElement.classList.remove('highlight');
                    }, 2000);
                }
            }
        } else {
            alert('请填写完整的网站信息');
            return;
        }
        
        closeModal('add-website');
    });

    // 确认编辑分类
    document.getElementById('confirm-edit-category').addEventListener('click', function() {
        const newName = document.getElementById('edit-category-name').value.trim();
        
        if (newName) {
            const section = document.getElementById(currentEditItemId);
            if (section) {
                section.querySelector('.section-title').textContent = newName;
                saveUserItems();
                showSuccessMessage('分类更新成功');
                closeModal('edit-category');
                
                // 更新管理界面
                const manageType = document.getElementById('manage-type').value;
                updateManageContent(manageType);
            }
        } else {
            alert('分类名称不能为空');
        }
    });

    // 确认编辑模块
    document.getElementById('confirm-edit-module').addEventListener('click', function() {
        const newTitle = document.getElementById('edit-module-title').value.trim();
        const newIcon = document.getElementById('edit-module-icon').value;
        
        if (newTitle && newIcon) {
            const module = document.querySelector(`[data-module-id="${currentEditItemId}"]`);
            if (module) {
                module.querySelector('.category-title').textContent = newTitle;
                module.querySelector('.category-icon i').className = `fas ${newIcon}`;
                saveUserItems();
                showSuccessMessage('模块更新成功');
                closeModal('edit-module');
                
                // 更新管理界面
                const manageType = document.getElementById('manage-type').value;
                updateManageContent(manageType);
            }
        } else {
            alert('请填写完整的模块信息');
        }
    });

    // 确认编辑网站
    document.getElementById('confirm-edit-website').addEventListener('click', function() {
        const newName = document.getElementById('edit-website-name').value.trim();
        const newUrl = document.getElementById('edit-website-url').value.trim();
        const newDesc = document.getElementById('edit-website-desc').value.trim();
        const newKeywords = document.getElementById('edit-website-keywords').value.trim();
        const newImage = document.getElementById('edit-website-image').value || 'https://via.placeholder.com/300x150?text=No+Image';
        
        if (newName && newUrl && newDesc && newKeywords) {
            const website = document.querySelector(`[data-website-id="${currentEditItemId}"]`);
            if (website) {
                website.querySelector('.website-name').textContent = newName;
                website.querySelector('.website-desc').textContent = newDesc;
                website.href = newUrl;
                website.dataset.keywords = newKeywords;
                website.querySelector('.website-img').src = newImage;
                
                saveUserItems();
                showSuccessMessage('网站更新成功');
                closeModal('edit-website');
                
                // 更新管理界面
                const manageType = document.getElementById('manage-type').value;
                updateManageContent(manageType);
            }
        } else {
            alert('请填写完整的网站信息');
        }
    });

    // 确认删除
    document.getElementById('confirm-delete').addEventListener('click', function() {
        if (currentEditItemId && currentEditItemType) {
            let element;
            
            switch(currentEditItemType) {
                case 'category':
                    element = document.getElementById(currentEditItemId);
                    break;
                case 'module':
                    element = document.querySelector(`[data-module-id="${currentEditItemId}"]`);
                    break;
                case 'website':
                    element = document.querySelector(`[data-website-id="${currentEditItemId}"]`);
                    break;
            }
            
            if (element) {
                element.remove();
                saveUserItems();
                showSuccessMessage('删除成功');
                
                // 更新管理界面
                const manageType = document.getElementById('manage-type').value;
                updateManageContent(manageType);
            }
        }
        
        closeModal('delete-confirm');
    });

    // 应用自定义设置
    function applyCustomSettings() {
        // 应用主题颜色
        document.documentElement.style.setProperty('--primary-color', customSettings.primaryColor);
        document.documentElement.style.setProperty('--secondary-color', customSettings.secondaryColor);
        document.documentElement.style.setProperty('--accent-color', customSettings.accentColor);
        
        // 应用文字设置
        document.documentElement.style.setProperty('--text-color', customSettings.textColor);
        document.documentElement.style.setProperty('--text-size', customSettings.textSize);
        document.documentElement.style.setProperty('--text-font', customSettings.textFont);
        
        // 应用模块设置
        document.documentElement.style.setProperty('--card-bg', customSettings.moduleBgColor);
        document.documentElement.style.setProperty('--module-opacity', customSettings.moduleOpacity);
        document.documentElement.style.setProperty('--module-border', customSettings.moduleBorder);
        
        // 应用按钮设置
        document.documentElement.style.setProperty('--btn-radius', `${customSettings.btnRadius}px`);
        
        // 应用背景图片
        document.documentElement.style.setProperty('--bg-image-landscape', `url(${customSettings.bgImageLandscape})`);
        document.documentElement.style.setProperty('--bg-image-portrait', `url(${customSettings.bgImagePortrait})`);
        
        // 应用全局效果
        document.documentElement.style.setProperty('--hue-rotate', `${customSettings.hue}deg`);
        document.documentElement.style.setProperty('--global-opacity', `${customSettings.opacity / 100}`);
        document.documentElement.style.setProperty('--blur', `${customSettings.blur}px`);
        
        // 更新所有按钮
        document.querySelectorAll('.btn').forEach(btn => {
            btn.style.background = `linear-gradient(135deg, ${customSettings.primaryColor}, ${customSettings.secondaryColor})`;
        });
    }

    // 保存自定义设置
    function saveCustomSettings() {
        localStorage.setItem(STORAGE_KEYS.CUSTOM_SETTINGS, JSON.stringify(customSettings));
        applyCustomSettings();
    }

    // 加载自定义设置
    function loadCustomSettings() {
        const settingsJson = localStorage.getItem(STORAGE_KEYS.CUSTOM_SETTINGS);
        if (settingsJson) {
            customSettings = JSON.parse(settingsJson);
            applyCustomSettings();
            
            // 更新表单的值
            document.getElementById('theme-color').value = customSettings.primaryColor;
            document.getElementById('text-color').value = customSettings.textColor;
            document.getElementById('text-size').value = customSettings.textSize;
            document.getElementById('text-font').value = customSettings.textFont;
            document.getElementById('module-bg-color').value = customSettings.moduleBgColor;
            document.getElementById('module-opacity').value = customSettings.moduleOpacity * 100;
            document.getElementById('module-border').value = customSettings.moduleBorder;
            document.getElementById('btn-bg-color').value = customSettings.primaryColor;
            document.getElementById('btn-text-color').value = customSettings.textColor;
            document.getElementById('btn-radius').value = customSettings.btnRadius;
            document.getElementById('hue').value = customSettings.hue;
            document.getElementById('opacity').value = customSettings.opacity;
            document.getElementById('blur').value = customSettings.blur;
            
            // 更新滑块值显示
            document.getElementById('hue-value').textContent = customSettings.hue;
            document.getElementById('opacity-value').textContent = customSettings.opacity;
            document.getElementById('blur-value').textContent = customSettings.blur;
            document.getElementById('module-opacity-value').textContent = customSettings.moduleOpacity * 100;
            document.getElementById('btn-radius-value').textContent = customSettings.btnRadius;
            
            // 更新背景预览
            if (customSettings.bgImageLandscape && customSettings.bgImageLandscape.startsWith('data:')) {
                document.getElementById('bg-image-landscape-preview').src = customSettings.bgImageLandscape;
                document.getElementById('bg-image-landscape-preview').style.display = 'block';
            }
            if (customSettings.bgImagePortrait && customSettings.bgImagePortrait.startsWith('data:')) {
                document.getElementById('bg-image-portrait-preview').src = customSettings.bgImagePortrait;
                document.getElementById('bg-image-portrait-preview').style.display = 'block';
            }
        }
    }

    // 应用自定义设置按钮
    document.getElementById('apply-bg').addEventListener('click', function() {
        // 获取所有设置值
        customSettings.primaryColor = document.getElementById('theme-color').value;
        customSettings.textColor = document.getElementById('text-color').value;
        customSettings.textSize = document.getElementById('text-size').value;
        customSettings.textFont = document.getElementById('text-font').value;
        customSettings.moduleBgColor = document.getElementById('module-bg-color').value;
        customSettings.moduleOpacity = document.getElementById('module-opacity').value / 100;
        customSettings.moduleBorder = document.getElementById('module-border').value;
        customSettings.btnBgColor = document.getElementById('btn-bg-color').value;
        customSettings.btnTextColor = document.getElementById('btn-text-color').value;
        customSettings.btnRadius = parseInt(document.getElementById('btn-radius').value);
        customSettings.hue = parseInt(document.getElementById('hue').value);
        customSettings.opacity = parseInt(document.getElementById('opacity').value);
        customSettings.blur = parseInt(document.getElementById('blur').value);
        
        // 保存并应用
        saveCustomSettings();
        showSuccessMessage('主题设置已保存');
    });

    // 重置设置
    document.getElementById('reset-bg').addEventListener('click', function() {
        // 重置为默认设置
        customSettings = {
            primaryColor: '#8e44ad',
            secondaryColor: '#9b59b6',
            accentColor: '#b393d3',
            textColor: '#ffffff',
            textSize: '1rem',
            textFont: "'Segoe UI', system-ui, -apple-system, sans-serif",
            moduleBgColor: '#28283c',
            moduleOpacity: 0.7,
            moduleBorder: 'solid',
            btnBgColor: '#8e44ad',
            btnTextColor: '#ffffff',
            btnRadius: 25,
            bgImageLandscape: 'https://silong-baoku.github.io/zyk/bjt2.jpg',
            bgImagePortrait: 'https://silong-baoku.github.io/zyk/bjt1.jpg',
            hue: 0,
            opacity: 100,
            blur: 0
        };
        
        // 清除上传的背景图
        document.getElementById('bg-image-landscape-upload').value = '';
        document.getElementById('bg-image-portrait-upload').value = '';
        document.getElementById('bg-image-landscape-preview').style.display = 'none';
        document.getElementById('bg-image-portrait-preview').style.display = 'none';
        
        // 更新表单值
        document.getElementById('theme-color').value = customSettings.primaryColor;
        document.getElementById('text-color').value = customSettings.textColor;
        document.getElementById('text-size').value = customSettings.textSize;
        document.getElementById('text-font').value = customSettings.textFont;
        document.getElementById('module-bg-color').value = customSettings.moduleBgColor;
        document.getElementById('module-opacity').value = customSettings.moduleOpacity * 100;
        document.getElementById('module-border').value = customSettings.moduleBorder;
        document.getElementById('btn-bg-color').value = customSettings.primaryColor;
        document.getElementById('btn-text-color').value = customSettings.textColor;
        document.getElementById('btn-radius').value = customSettings.btnRadius;
        document.getElementById('hue').value = customSettings.hue;
        document.getElementById('opacity').value = customSettings.opacity;
        document.getElementById('blur').value = customSettings.blur;
        
        // 更新滑块值显示
        document.getElementById('hue-value').textContent = customSettings.hue;
        document.getElementById('opacity-value').textContent = customSettings.opacity;
        document.getElementById('blur-value').textContent = customSettings.blur;
        document.getElementById('module-opacity-value').textContent = customSettings.moduleOpacity * 100;
        document.getElementById('btn-radius-value').textContent = customSettings.btnRadius;
        
        // 保存并应用
        saveCustomSettings();
        showSuccessMessage('主题设置已重置');
    });

    // 初始化滑块值显示
    document.getElementById('hue').addEventListener('input', function() {
        document.getElementById('hue-value').textContent = this.value;
    });
    
    document.getElementById('opacity').addEventListener('input', function() {
        document.getElementById('opacity-value').textContent = this.value;
    });
    
    document.getElementById('blur').addEventListener('input', function() {
        document.getElementById('blur-value').textContent = this.value;
    });
    
    document.getElementById('module-opacity').addEventListener('input', function() {
        document.getElementById('module-opacity-value').textContent = this.value;
    });
    
    document.getElementById('btn-radius').addEventListener('input', function() {
        document.getElementById('btn-radius-value').textContent = this.value;
    });

    // 自定义按钮
    document.getElementById('customize-bg-btn').addEventListener('click', function(e) {
        e.preventDefault();
        openModal('customize');
    });

    // 返回顶部按钮
    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            document.querySelector('.back-to-top').classList.add('visible');
        } else {
            document.querySelector('.back-to-top').classList.remove('visible');
        }
    });
    
    document.querySelector('.back-to-top').addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // 取消加载按钮
    document.querySelector('.btn-cancel').addEventListener('click', function() {
        hideLoader();
    });

    // 页面加载时初始化
    document.addEventListener('DOMContentLoaded', function() {
        // 初始化侧边栏状态
        initSidebar();
        
        // 初始化滑块值显示
        document.getElementById('hue-value').textContent = document.getElementById('hue').value;
        document.getElementById('opacity-value').textContent = document.getElementById('opacity').value;
        document.getElementById('blur-value').textContent = document.getElementById('blur').value;
        document.getElementById('module-opacity-value').textContent = document.getElementById('module-opacity').value;
        document.getElementById('btn-radius-value').textContent = document.getElementById('btn-radius').value;
        
        // 初始化收藏按钮状态
        initFavoriteButtons();
        
        // 加载用户添加的项目
        loadUserItems();
        
        // 加载自定义设置
        loadCustomSettings();
        
        // 更新所有分类选择下拉框
        updateCategorySelects();
        
        // 添加分类类型切换事件
        document.getElementById('category-type').addEventListener('change', function() {
            const type = this.value;
            if (type === 'existing') {
                document.getElementById('existing-category-container').style.display = 'block';
                document.getElementById('new-category-container').style.display = 'none';
            } else {
                document.getElementById('existing-category-container').style.display = 'none';
                document.getElementById('new-category-container').style.display = 'block';
            }
        });
    });
</script>
</body>
</html>
